"use strict";(self["webpackChunkmusic"]=self["webpackChunkmusic"]||[]).push([[523,102],{2102:function(e,t,o){o.r(t),o.d(t,{default:function(){return w}});var l=o(9776),n=(o(6885),o(4902)),a=(o(8839),o(303)),c=(o(802),o(1015)),s=(o(8474),o(3396)),r=o(7139),i=o(4870),d=o(9242),u=o(3741),p=o(5867),m=o(2483);const v=e=>((0,s.pushScopeId)("data-v-5ea40a00"),e=e(),(0,s.popScopeId)(),e),f={class:"global_top"},k=["onClick"],g=["onMouseover","onMouseleave"],h={class:"playCount"},_=["onClick"],N=v((()=>(0,s.createElementVNode)("use",{"xlink:href":"#icon-playfill-copy"},null,-1))),C=[N],E={class:"text"};var V={__name:"globalTop",props:{songlist:{type:Array,required:!0}},setup(e){const{computed:t,ref:v,watch:N}=o(3396),{useStore:V}=o(65),B={xs:{span:6},sm:{span:6},md:{span:4},lg:{span:4},xl:{span:4}},y=(V(),(0,m.tv)()),w=(v(!1),e=>{y.push({path:"songMenuDetailPage",query:{id:e}})}),x=v(0),I=e=>{x.value=e.id},M=e=>{x.value=0},b=(e,t)=>{e.stopPropagation(),(0,p.t)(t)};return(t,o)=>{const p=(0,s.resolveComponent)("Picture"),m=c.gn,v=a.F8,N=(0,s.resolveComponent)("VideoPlay"),V=n.Dv,y=l.dq;return(0,s.openBlock)(),(0,s.createElementBlock)("div",f,[(0,s.renderSlot)(t.$slots,"title"),(0,s.createVNode)(y,{gutter:20},{default:(0,s.withCtx)((()=>[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(e.songlist,(e=>((0,s.openBlock)(),(0,s.createBlock)(V,(0,s.mergeProps)({span:4,key:e},B),{default:(0,s.withCtx)((()=>[(0,s.createElementVNode)("div",{class:"items",onClick:t=>w(e.id)},[(0,s.createElementVNode)("div",{class:"item_img",onMouseover:t=>I(e),onMouseleave:t=>M(e)},[(0,s.createVNode)(v,{src:`${e.coverImgUrl}?param=300y300`,alt:"",class:"img"},{error:(0,s.withCtx)((()=>[(0,s.createVNode)(m,null,{default:(0,s.withCtx)((()=>[(0,s.createVNode)(p)])),_:1})])),_:2},1032,["src"]),(0,s.createElementVNode)("div",h,[(0,s.createVNode)(m,null,{default:(0,s.withCtx)((()=>[(0,s.createVNode)(N)])),_:1}),(0,s.createElementVNode)("span",null,(0,r.zw)((0,i.unref)(u.u)(e.playCount)),1)]),(0,s.withDirectives)(((0,s.openBlock)(),(0,s.createElementBlock)("svg",{class:"icon shanjiao","aria-hidden":"true",onClick:t=>b(t,e.id)},C,8,_)),[[d.F8,(0,i.unref)(x)===e.id]])],40,g),(0,s.createElementVNode)("div",E,[(0,s.createElementVNode)("span",null,(0,r.zw)(e.name),1)])],8,k)])),_:2},1040)))),128))])),_:1})])}}},B=o(89);const y=(0,B.Z)(V,[["__scopeId","data-v-5ea40a00"]]);var w=y},2399:function(e,t,o){o.r(t),o.d(t,{default:function(){return q}});var l=o(970),n=(o(451),o(3396)),a=o(4870),c=o(7139),s=o(9242),r=o(1426),i=o(2483),d=o(5867),u=o(6982),p=o(5399);const m=e=>((0,n.pushScopeId)("data-v-39aa7aa2"),e=e(),(0,n.popScopeId)(),e),v={class:"official_top"},f=m((()=>(0,n.createElementVNode)("p",{class:"title"},"官方榜",-1))),k=["onClick","onMouseover","onMouseleave"],g=["src"],h={class:"update_time"},_=["onClick"],N=m((()=>(0,n.createElementVNode)("use",{"xlink:href":"#icon-playfill-copy"},null,-1))),C=[N],E=["onClick","onDblclick"],V={class:"song_name"},B={class:"song_author"},y={key:0,class:"loading"};var w={__name:"officialTop",setup(e){const{computed:t,onMounted:l,watch:m,ref:N}=o(3396),{useStore:w}=o(65),x=w(),I=(0,i.tv)();x.dispatch("recommend/toplist/getOfficialTop");const M=N(!0),b=N();m((()=>x.state.recommend.toplist.officialtop),(e=>{b.value=e.slice(0,4)}),{immediate:!0});const S=N([]);m((()=>b.value),(()=>{const e=[];b.value.forEach((t=>{e.push(x.dispatch("recommend/toplist/getSongMenuDetail",t.id))})),Promise.all(e).then((e=>{M.value=!1;for(const t in e)e[t]&&S.value.push(e[t].songs.slice(0,5))}))}));const D=N(),P=(e,t)=>{for(const o in D.value)if(e===parseInt(o))for(const l in D.value[e].children)t===parseInt(l)?D.value[e].children[l].style.backgroundColor="#ebebeb":Object.is(parseInt(l),NaN)||(D.value[e].children[l].style.backgroundColor="");else for(const e in D.value[o].children)Object.is(parseInt(e),NaN)||(D.value[o].children[e].style.backgroundColor="")},z=(e,t)=>{(0,u.O)(S.value[e][t].id)},F=N(0),j=e=>{F.value=e.id},q=e=>{F.value=0},O=e=>{I.push({path:"songMenuDetailPage",query:{id:e,index:3}})},T=(e,t)=>{e.stopPropagation(),(0,d.t)(t)};return(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",v,[f,((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,a.unref)(b),((e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"content",key:t},[(0,n.createElementVNode)("div",{class:"img",onClick:t=>O(e.id),onMouseover:t=>j(e),onMouseleave:t=>q(e)},[(0,n.createElementVNode)("img",{src:`${e.coverImgUrl}?param=200y200`,alt:""},null,8,g),(0,n.createElementVNode)("span",h,(0,c.zw)((0,a.unref)(r.U)(e.updateTime,"MM月DD日"))+"更新",1),(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("svg",{class:"icon shanjiao","aria-hidden":"true",onClick:t=>T(t,e.id)},C,8,_)),[[s.F8,(0,a.unref)(F)===e.id]])],40,k),(0,n.createElementVNode)("div",{class:"song_list",ref_for:!0,ref_key:"itemRef",ref:D},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)((0,a.unref)(S)[t],((e,o)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"song",key:o,onClick:e=>P(t,o),onDblclick:e=>z(t,o)},[(0,n.createElementVNode)("span",{class:(0,c.C_)(o+1+"index"),id:"song_index"},(0,c.zw)(o+1),3),(0,n.createElementVNode)("div",V,(0,c.zw)(e.name),1),(0,n.createElementVNode)("div",B,(0,c.zw)(e.ar[0].name),1)],40,E)))),128)),(0,a.unref)(M)?((0,n.openBlock)(),(0,n.createElementBlock)("div",y,[(0,n.createVNode)(p.Z)])):(0,n.createCommentVNode)("",!0)],512)])))),128))]))}},x=o(89);const I=(0,x.Z)(w,[["__scopeId","data-v-39aa7aa2"]]);var M=I,b=o(2102),S=o(65),D=o(6237);const P=e=>((0,n.pushScopeId)("data-v-06546228"),e=e(),(0,n.popScopeId)(),e),z=P((()=>(0,n.createElementVNode)("p",{class:"title"},"全球榜",-1)));var F={__name:"toplist",props:{},setup(e,{emit:t}){const o=(0,S.useStore)(),c=(0,n.computed)((()=>o.state.recommend.toplist.officialtop.slice(4))),s=(0,a.ref)(),r=(0,D.f)(s);return(e,t)=>{const o=l.Mr;return(0,n.openBlock)(),(0,n.createBlock)(o,{onScroll:(0,a.unref)(r),class:"top_list",ref_key:"elRef",ref:s},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(M,{class:"lessen"}),(0,n.createVNode)(b["default"],{songlist:(0,a.unref)(c),class:"lessen"},{title:(0,n.withCtx)((()=>[z])),_:1},8,["songlist"])])),_:1},8,["onScroll"])}}};const j=(0,x.Z)(F,[["__scopeId","data-v-06546228"]]);var q=j}}]);
//# sourceMappingURL=topList.8659c3aa.js.map
"use strict";(self["webpackChunkmusic"]=self["webpackChunkmusic"]||[]).push([[9],{9654:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(970),o=(n(451),n(3396)),l=n(7139),r=n(9242);const s={class:"categorytbas"},c={class:"tabs_songMenu"},i={class:"tabs_select"},u={class:"conent"},d={key:0,class:"total_Menu"},p={class:"headre"},m={class:"category"};var f={__name:"categoryTabs",props:{hotTags:{type:Array,default:[]},tags:{type:Array,default:[]},isCategory:{type:Boolean,default:!1}},setup(e,{emit:t}){return(t,n)=>{const f=a.Mr;return(0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",i,[(0,o.renderSlot)(t.$slots,"All")]),(0,o.createElementVNode)("div",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.hotTags,((e,n)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:n,class:"tabs_text"},[(0,o.renderSlot)(t.$slots,"hotTabs",(0,l.vs)((0,o.guardReactiveProps)(e)))])))),128))])]),(0,o.withDirectives)((0,o.createElementVNode)("div",u,[e.isCategory?((0,o.openBlock)(),(0,o.createElementBlock)("div",d,[(0,o.createElementVNode)("div",p,[(0,o.renderSlot)(t.$slots,"tabsHeadre")]),(0,o.createVNode)(f,{"max-height":"400px"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",m,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.tags,((e,n)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:n,class:"category_items"},[(0,o.renderSlot)(t.$slots,"tags",(0,o.mergeProps)(e,{class:"tags_select"}))])))),128))])])),_:3})])):(0,o.createCommentVNode)("",!0)],512),[[r.F8,e.tags]])])}}},v=n(89);const g=(0,v.Z)(f,[["__scopeId","data-v-8666bd6c"]]);var h=g},6844:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var a=n(3247),o=(n(6588),n(7488)),l=(n(9406),n(9776)),r=(n(6885),n(4902)),s=(n(8839),n(9623)),c=(n(4566),n(1015)),i=(n(8474),n(3396)),u=n(4870),d=n(9242),p=n(7139),m=n(3741),f=n(6757),v=n(5399),g=(n(2423),n(65)),h=n(2483);const y=e=>((0,i.pushScopeId)("data-v-30c09854"),e=e(),(0,i.popScopeId)(),e),k=["infinite-scroll-disabled"],b={class:"item"},C=["onClick"],N=["onMouseover"],_=y((()=>(0,i.createElementVNode)("source",{type:"image/webp"},null,-1))),E=["src"],w={class:"icon shanjiao","aria-hidden":"true"},V=y((()=>(0,i.createElementVNode)("use",{"xlink:href":"#icon-playfill-copy"},null,-1))),B=[V],x={class:"playCount"},T={class:"video_durationms"},$=["onClick"],S={class:"author"},j=["onClick"],q={key:1};var A={__name:"listVideo",setup(e,{emit:t}){const n={xs:{span:24},sm:{span:12},md:{span:8},lg:{span:6},xl:{span:6}},y=(0,u.ref)(!1),V=(0,g.useStore)(),A=(0,h.tv)(),M=(0,h.yj)(),H=(0,u.ref)([]),I=(0,u.ref)(),L=(0,u.ref)(),Z=e=>{L.value=e.target.scrollTop};(0,i.onActivated)((()=>{console.log("缓存"),I.value.scrollTop=L.value}));const R=(0,u.reactive)({offset:0,id:58100}),z=e=>{V.dispatch("video/getVideoGroups",e).then((e=>{H.value=e;try{H.value.length<10&&K()}catch(t){console.log(t)}}))};z(R),(0,i.watch)((()=>V.getters["video/getTags"]),(e=>{H.value=[],console.log("------------------------------------",e),R.offset=0,R.id=e.id,z(R)}));const D=(0,u.ref)(!1);let O=null;const F=(e,t)=>{clearInterval(O),t.data.previewUrl?(e.path[1].firstChild.setAttribute("srcset",t.data.previewUrl),O=setTimeout((()=>{e.path[1].firstChild?.setAttribute("srcset",""),D.value=t.data.vid}),5500)):D.value=t.data.vid||t.data.id},P=e=>{clearInterval(O),D.value=0,e.path[0].firstChild?.setAttribute("srcset","")},G=(0,u.ref)(!1),K=()=>{console.log("加载更多-------------"),R.offset+=8,console.log(R);const e=setTimeout((()=>{y.value=!0}),500);try{V.dispatch("video/getVideoGroups",R).then((t=>{clearTimeout(e),y.value=!1,H.value.push(...t)}))}catch(t){console.log("禁用滚动条"),G.value=!0}},U=e=>{console.log(typeof M.query.tag),1e3===parseInt(M.query.tag)?(console.log("MV"),console.log(e),A.push({path:"/mainVideo",query:{mvId:e.data.id}})):A.push({path:"/mainVideo",query:{vid:e.data.vid}})},J=e=>{console.log(e),A.push({path:"/profilePage",query:{id:e.userId}})};return(e,t)=>{const g=(0,i.resolveComponent)("VideoPlay"),h=c.gn,V=s.Q0,A=r.Dv,M=l.dq,L=o.mR,R=a.n;return(0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,null,[(0,u.unref)(H).length?(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:"video_tabs_list",ref_key:"video",ref:I,"infinite-scroll-distance":500,"infinite-scroll-delay":500,"infinite-scroll-immediate":"","infinite-scroll-disabled":(0,u.unref)(G),onScroll:Z},[(0,i.createElementVNode)("div",null,[(0,i.createVNode)(M,{gutter:30},{default:(0,i.withCtx)((()=>[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)((0,u.unref)(H),(e=>((0,i.openBlock)(),(0,i.createBlock)(A,(0,i.mergeProps)({span:6,key:e},n),{default:(0,i.withCtx)((()=>[(0,i.createElementVNode)("div",b,[(0,i.createElementVNode)("div",{class:"img",onClick:t=>U(e)},[(0,i.createElementVNode)("picture",{class:"picture",onMouseover:t=>F(t,e),onMouseleave:t[0]||(t[0]=e=>P(e))},[_,(0,i.createElementVNode)("img",{class:"el_img",src:`${e.data.coverUrl}?param=500y300`},null,8,E),(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("svg",w,B,512)),[[d.F8,(0,u.unref)(D)===e.data.vid]])],40,N),(0,i.createElementVNode)("div",x,[(0,i.createVNode)(h,null,{default:(0,i.withCtx)((()=>[(0,i.createVNode)(g)])),_:1}),(0,i.createElementVNode)("span",null,(0,p.zw)((0,u.unref)(m.u)(e.data?.playTime||e.data?.playCount)),1)]),(0,i.createElementVNode)("div",T,[(0,i.createElementVNode)("span",null,(0,p.zw)((0,u.unref)(f.M)(e.data?.durationms||e.data?.duration)),1)])],8,C),(0,i.createElementVNode)("div",{class:"title",onClick:t=>U(e)},[(0,i.createVNode)(V,{class:"box-item",effect:"light","show-after":500,content:e.data.title||e.data.name,placement:"bottom"},{default:(0,i.withCtx)((()=>[(0,i.createElementVNode)("span",null,(0,p.zw)(e.data.title||e.data.name),1)])),_:2},1032,["content"])],8,$),(0,i.createElementVNode)("div",S,[e.data.creator?((0,i.openBlock)(),(0,i.createElementBlock)("span",{key:0,onClick:t=>J(e.data.creator)},(0,p.zw)(e.data.creator.nickname),9,j)):(0,i.createCommentVNode)("",!0),e.data.artists?((0,i.openBlock)(),(0,i.createElementBlock)("span",q,(0,p.zw)(e.data.artists[0].name),1)):(0,i.createCommentVNode)("",!0)])])])),_:2},1040)))),128))])),_:1})]),(0,u.unref)(y)?((0,i.openBlock)(),(0,i.createBlock)(v.Z,{key:0,class:"loading"})):(0,i.createCommentVNode)("",!0)],40,k)),[[R,K]]):(0,i.createCommentVNode)("",!0),(0,i.createVNode)(L,{right:50,bottom:110,"visibility-height":1e3,target:".el-scrollbar__wrap"})],64)}}},M=n(89);const H=(0,M.Z)(A,[["__scopeId","data-v-30c09854"]]);var I=H},2423:function(e,t,n){n.d(t,{Z:function(){return y}});var a=n(8179),o=(n(6809),n(1015)),l=(n(8474),n(3396)),r=n(4870),s=n(7139),c=n(9654),i=(n(6844),n(65)),u=n(2483);const d={class:"tabs"},p=["onClick"],m={class:"tags_select"},f=["onClick"];var v={__name:"tags",props:{},setup(e,{emit:t}){const n=(0,i.useStore)(),v=(0,u.tv)(),g=(0,l.computed)((()=>n.state.keepAliveViews)),h=(0,l.computed)((()=>n.state.notAliveViews)),y=(0,r.ref)(),k=(0,r.ref)(!1),b=(0,l.computed)((()=>(y.value.innerHTML=n.state.video.tags.name,n.state.video.tags.name))),C=(0,r.ref)([]);n.dispatch("video/getCategoryList").then((e=>{C.value=e}));const N=(0,r.ref)([]);n.dispatch("video/getGroupList").then((e=>{N.value=e}));const _=()=>{k.value=!k.value},E=(0,r.ref)(),w=(e,t)=>{E.value=t,v.push({path:"/video/listVideo",query:{tag:t}}),n.commit("video/setTags",{id:t,name:e})},V=(e,t)=>{E.value=t,v.push({path:"/video/listVideo",query:{tag:t}}),n.commit("video/setTags",{id:t,name:e}),k.value=!1},B=e=>{E.value=0,b.value=e,k.value=!1,y.value.innerHTML=e};return(e,t)=>{const n=(0,l.resolveComponent)("ArrowRight"),i=o.gn,u=a.mi,v=(0,l.resolveComponent)("router-view");return(0,l.openBlock)(),(0,l.createElementBlock)("div",d,[(0,l.createVNode)(c.Z,{hotTags:(0,r.unref)(C),tags:(0,r.unref)(N),isCategory:(0,r.unref)(k),class:"padd"},{All:(0,l.withCtx)((()=>[(0,l.createVNode)(u,{round:"",onClick:_},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("span",{ref_key:"totalMenuRef",ref:y},"全部歌单",512),(0,l.createVNode)(i,null,{default:(0,l.withCtx)((()=>[(0,l.createVNode)(n)])),_:1})])),_:1})])),hotTabs:(0,l.withCtx)((({id:e,name:t})=>[(0,l.createElementVNode)("span",{class:(0,s.C_)({hot_tags:(0,r.unref)(b)===t})},[(0,l.createElementVNode)("span",{onClick:n=>w(t,e),class:"text"},(0,s.zw)(t),9,p)],2)])),tabsHeadre:(0,l.withCtx)((()=>[(0,l.createElementVNode)("span",{class:(0,s.C_)(["tag_all",{total_check:"全部视频"===(0,r.unref)(b)}]),onClick:t[0]||(t[0]=e=>B("全部视频"))},"全部视频",2)])),tags:(0,l.withCtx)((({id:e,name:t})=>[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("span",{class:(0,s.C_)(["icona",{text_check:(0,r.unref)(b)===t}]),onClick:n=>V(t,e)},(0,s.zw)(t),11,f)])])),_:1},8,["hotTags","tags","isCategory"]),(0,l.createVNode)(v,null,{default:(0,l.withCtx)((({Component:t})=>[((0,l.openBlock)(),(0,l.createBlock)(l.KeepAlive,{include:(0,r.unref)(g),exclude:(0,r.unref)(h)},[((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(t),{key:e.$route.meta.title}))],1032,["include","exclude"]))])),_:1})])}}},g=n(89);const h=(0,g.Z)(v,[["__scopeId","data-v-ed41dfb2"]]);var y=h},7488:function(e,t,n){n.d(t,{mR:function(){return _}});var a=n(3396),o=n(4870),l=n(9242),r=n(7139),s=n(6413),c=n(6367),i=n(1015),u=n(2748);const d={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},p={click:e=>e instanceof MouseEvent};var m=n(5989),f=n(6734);const v=e=>e**3,g=e=>e<.5?v(2*e)/2:1-v(2*(1-e))/2;var h=n(4620);const y=["onClick"],k={name:"ElBacktop"},b=(0,a.defineComponent)({...k,props:d,emits:p,setup(e,{emit:t}){const n=e,d="ElBacktop",p=(0,f.s)("backtop"),m=(0,o.shallowRef)(),v=(0,o.shallowRef)(),k=(0,o.ref)(!1),b=(0,a.computed)((()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}))),C=()=>{if(!m.value)return;const e=Date.now(),t=m.value.scrollTop,n=()=>{if(!m.value)return;const a=(Date.now()-e)/500;a<1?(m.value.scrollTop=t*(1-g(a)),requestAnimationFrame(n)):m.value.scrollTop=0};requestAnimationFrame(n)},N=()=>{m.value&&(k.value=m.value.scrollTop>=n.visibilityHeight)},_=e=>{C(),t("click",e)},E=(0,s.vA)(N,300);return(0,c.ORN)(v,"scroll",E),(0,a.onMounted)((()=>{var e;v.value=document,m.value=document.documentElement,n.target&&(m.value=null!=(e=document.querySelector(n.target))?e:void 0,m.value||(0,h._)(d,`target is not existed: ${n.target}`),v.value=m.value)})),(e,t)=>((0,a.openBlock)(),(0,a.createBlock)(l.uT,{name:`${(0,o.unref)(p).namespace.value}-fade-in`},{default:(0,a.withCtx)((()=>[k.value?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,style:(0,r.j5)((0,o.unref)(b)),class:(0,r.C_)((0,o.unref)(p).b()),onClick:(0,l.iM)(_,["stop"])},[(0,a.renderSlot)(e.$slots,"default",{},(()=>[(0,a.createVNode)((0,o.unref)(i.gn),{class:(0,r.C_)((0,o.unref)(p).e("icon"))},{default:(0,a.withCtx)((()=>[(0,a.createVNode)((0,o.unref)(u.CaretTop))])),_:1},8,["class"])]))],14,y)):(0,a.createCommentVNode)("v-if",!0)])),_:3},8,["name"]))}});var C=(0,m.Z)(b,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]),N=n(9015);const _=(0,N.nz)(C)},9406:function(e,t,n){n(1758)},4902:function(e,t,n){n.d(t,{Dv:function(){return h}});var a=n(3396),o=n(7139),l=n(4870),r=n(5994),s=n(3071);const c=(0,r.o8)({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:(0,r.Cq)([Number,Object]),default:()=>(0,s.N)({})},sm:{type:(0,r.Cq)([Number,Object]),default:()=>(0,s.N)({})},md:{type:(0,r.Cq)([Number,Object]),default:()=>(0,s.N)({})},lg:{type:(0,r.Cq)([Number,Object]),default:()=>(0,s.N)({})},xl:{type:(0,r.Cq)([Number,Object]),default:()=>(0,s.N)({})}});var i=n(5989),u=n(7504),d=n(6734),p=n(6413);const m={name:"ElCol"},f=(0,a.defineComponent)({...m,props:c,setup(e){const t=e,{gutter:n}=(0,a.inject)(u.j,{gutter:(0,a.computed)((()=>0))}),r=(0,d.s)("col"),s=(0,a.computed)((()=>{const e={};return n.value&&(e.paddingLeft=e.paddingRight=n.value/2+"px"),e})),c=(0,a.computed)((()=>{const e=[],a=["span","offset","pull","push"];a.forEach((n=>{const a=t[n];(0,p.hj)(a)&&("span"===n?e.push(r.b(`${t[n]}`)):a>0&&e.push(r.b(`${n}-${t[n]}`)))}));const l=["xs","sm","md","lg","xl"];return l.forEach((n=>{(0,p.hj)(t[n])?e.push(r.b(`${n}-${t[n]}`)):(0,o.Kn)(t[n])&&Object.entries(t[n]).forEach((([t,a])=>{e.push("span"!==t?r.b(`${n}-${t}-${a}`):r.b(`${n}-${a}`))}))})),n.value&&e.push(r.is("guttered")),e}));return(e,t)=>((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(e.tag),{class:(0,o.C_)([(0,l.unref)(r).b(),(0,l.unref)(c)]),style:(0,o.j5)((0,l.unref)(s))},{default:(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"default")])),_:3},8,["class","style"]))}});var v=(0,i.Z)(f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]),g=n(9015);const h=(0,g.nz)(v)},8839:function(e,t,n){n(1758)},3247:function(e,t,n){n.d(t,{n:function(){return b}});var a=n(3396),o=n(7139),l=n(1976),r=n(6142),s=n(4620),c=n(9304);const i="ElInfiniteScroll",u=50,d=200,p=0,m={delay:{type:Number,default:d},distance:{type:Number,default:p},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},f=(e,t)=>Object.entries(m).reduce(((n,[a,o])=>{var l,r;const{type:s,default:c}=o,i=e.getAttribute(`infinite-scroll-${a}`);let u=null!=(r=null!=(l=t[i])?l:i)?r:c;return u="false"!==u&&u,u=s(u),n[a]=Number.isNaN(u)?c:u,n}),{}),v=e=>{const{observer:t}=e[i];t&&(t.disconnect(),delete e[i].observer)},g=(e,t)=>{const{container:n,containerEl:a,instance:o,observer:l,lastScrollTop:s}=e[i],{disabled:c,distance:u}=f(e,o),{clientHeight:d,scrollHeight:p,scrollTop:m}=a,v=m-s;if(e[i].lastScrollTop=m,l||c||v<0)return;let g=!1;if(n===e)g=p-(d+m)<=u;else{const{clientTop:t,scrollHeight:n}=e,o=(0,r.yP)(e,a);g=m+d>=o+t+n-u}g&&t.call(o)};function h(e,t){const{containerEl:n,instance:a}=e[i],{disabled:o}=f(e,a);o||0===n.clientHeight||(n.scrollHeight<=n.clientHeight?t.call(a):v(e))}const y={async mounted(e,t){const{instance:n,value:r}=t;(0,o.mf)(r)||(0,s._)(i,"'v-infinite-scroll' binding value must be a function"),await(0,a.nextTick)();const{delay:d,immediate:p}=f(e,n),m=(0,c.JX)(e,!0),v=m===window?document.documentElement:m,y=(0,l.Z)(g.bind(null,e,r),d);if(m){if(e[i]={instance:n,container:m,containerEl:v,delay:d,cb:r,onScroll:y,lastScrollTop:v.scrollTop},p){const t=new MutationObserver((0,l.Z)(h.bind(null,e,r),u));e[i].observer=t,t.observe(e,{childList:!0,subtree:!0}),h(e,r)}m.addEventListener("scroll",y)}},unmounted(e){const{container:t,onScroll:n}=e[i];null==t||t.removeEventListener("scroll",n),v(e)},async updated(e){e[i]||await(0,a.nextTick)();const{containerEl:t,cb:n,observer:o}=e[i];t.clientHeight&&o&&h(e,n)}},k=y;k.install=e=>{e.directive("InfiniteScroll",k)};const b=k},6588:function(e,t,n){n(1758)},9776:function(e,t,n){n.d(t,{dq:function(){return h}});var a=n(3396),o=n(7139),l=n(4870),r=n(5994);const s=["start","center","end","space-around","space-between","space-evenly"],c=["top","middle","bottom"],i=(0,r.o8)({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:s,default:"start"},align:{type:String,values:c,default:"top"}});var u=n(5989),d=n(6734),p=n(7504);const m={name:"ElRow"},f=(0,a.defineComponent)({...m,props:i,setup(e){const t=e,n=(0,d.s)("row"),r=(0,a.computed)((()=>t.gutter));(0,a.provide)(p.j,{gutter:r});const s=(0,a.computed)((()=>{const e={};return t.gutter?(e.marginRight=e.marginLeft=`-${t.gutter/2}px`,e):e}));return(e,r)=>((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(e.tag),{class:(0,o.C_)([(0,l.unref)(n).b(),(0,l.unref)(n).is(`justify-${t.justify}`,"start"!==e.justify),(0,l.unref)(n).is(`align-${t.align}`,"top"!==e.align)]),style:(0,o.j5)((0,l.unref)(s))},{default:(0,a.withCtx)((()=>[(0,a.renderSlot)(e.$slots,"default")])),_:3},8,["class","style"]))}});var v=(0,u.Z)(f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]),g=n(9015);const h=(0,g.nz)(v)},6885:function(e,t,n){n(1758)},7504:function(e,t,n){n.d(t,{j:function(){return a}});const a=Symbol("rowContextKey")}}]);
//# sourceMappingURL=9.3a0bf916.js.map
"use strict";(self["webpackChunkmusic"]=self["webpackChunkmusic"]||[]).push([[370],{3741:function(e,t,a){function n(e){const t=Array.from(String(e));return 6===t.length?t.join("").slice(0,2)+"万":7===t.length?t.join("").slice(0,3)+"万":8===t.length?t.join("").slice(0,4)+"万":9===t.length?t.join("").slice(0,1)+"亿":10===t.length?t.join("").slice(0,2)+"亿":11===t.length?t.join("").slice(0,3)+"亿":e}a.d(t,{u:function(){return n}})},6226:function(e,t,a){a(1758)},1853:function(e,t,a){a.d(t,{p8:function(){return K},Ub:function(){return U}});var n=a(3396),l=a(4870),o=a(1015),r=a(2748),s=a(7139),i=a(6367),u=a(5994),c=a(3071);const d=(0,u.o8)({tabs:{type:(0,u.Cq)(Array),default:()=>(0,c.N)([])}});var p=a(5989);const v=Symbol("tabsRootContextKey");var b=a(4620),f=a(6734);const m={name:"ElTabBar"},h=(0,n.defineComponent)({...m,props:d,setup(e,{expose:t}){const a=e,o="ElTabBar",r=(0,n.getCurrentInstance)(),u=(0,n.inject)(v);u||(0,b._)(o,"<el-tabs><el-tab-bar /></el-tabs>");const c=(0,f.s)("tabs"),d=(0,l.ref)(),p=(0,l.ref)(),m=()=>{let e=0,t=0;const n=["top","bottom"].includes(u.props.tabPosition)?"width":"height",l="width"===n?"x":"y";return a.tabs.every((o=>{var i,u,c,d;const p=null==(u=null==(i=r.parent)?void 0:i.refs)?void 0:u[`tab-${o.uid}`];if(!p)return!1;if(!o.active)return!0;t=p[`client${(0,s.kC)(n)}`];const v="x"===l?"left":"top";e=p.getBoundingClientRect()[v]-(null!=(d=null==(c=p.parentElement)?void 0:c.getBoundingClientRect()[v])?d:0);const b=window.getComputedStyle(p);return"width"===n&&(a.tabs.length>1&&(t-=Number.parseFloat(b.paddingLeft)+Number.parseFloat(b.paddingRight)),e+=Number.parseFloat(b.paddingLeft)),!1})),{[n]:`${t}px`,transform:`translate${(0,s.kC)(l)}(${e}px)`}},h=()=>p.value=m();return(0,n.watch)((()=>a.tabs),(async()=>{await(0,n.nextTick)(),h()}),{immediate:!0}),(0,i.yU7)(d,(()=>h())),t({ref:d,update:h}),(e,t)=>((0,n.openBlock)(),(0,n.createElementBlock)("div",{ref_key:"barRef",ref:d,class:(0,s.C_)([(0,l.unref)(c).e("active-bar"),(0,l.unref)(c).is((0,l.unref)(u).props.tabPosition)]),style:(0,s.j5)(p.value)},null,6))}});var g=(0,p.Z)(h,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]),y=a(9619);const N=(0,u.o8)({panes:{type:(0,u.Cq)(Array),default:()=>(0,c.N)([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:(0,u.Cq)(Function),default:s.dG},onTabRemove:{type:(0,u.Cq)(Function),default:s.dG},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),C="ElTabNav",k=(0,n.defineComponent)({name:C,props:N,setup(e,{expose:t}){const a=(0,n.getCurrentInstance)(),u=(0,n.inject)(v);u||(0,b._)(C,"<el-tabs><tab-nav /></el-tabs>");const c=(0,f.s)("tabs"),d=(0,i.xKQ)(),p=(0,i.vou)(),m=(0,l.ref)(),h=(0,l.ref)(),N=(0,l.ref)(),k=(0,l.ref)(!1),w=(0,l.ref)(0),T=(0,l.ref)(!1),V=(0,l.ref)(!0),x=(0,n.computed)((()=>["top","bottom"].includes(u.props.tabPosition)?"width":"height")),P=(0,n.computed)((()=>{const e="width"===x.value?"X":"Y";return{transform:`translate${e}(-${w.value}px)`}})),$=()=>{if(!m.value)return;const e=m.value[`offset${(0,s.kC)(x.value)}`],t=w.value;if(!t)return;const a=t>e?t-e:0;w.value=a},B=()=>{if(!m.value||!h.value)return;const e=h.value[`offset${(0,s.kC)(x.value)}`],t=m.value[`offset${(0,s.kC)(x.value)}`],a=w.value;if(e-a<=t)return;const n=e-a>2*t?a+t:e-t;w.value=n},S=async()=>{const e=h.value;if(!k.value||!N.value||!m.value||!e)return;await(0,n.nextTick)();const t=N.value.querySelector(".is-active");if(!t)return;const a=m.value,l=["top","bottom"].includes(u.props.tabPosition),o=t.getBoundingClientRect(),r=a.getBoundingClientRect(),s=l?e.offsetWidth-r.width:e.offsetHeight-r.height,i=w.value;let c=i;l?(o.left<r.left&&(c=i-(r.left-o.left)),o.right>r.right&&(c=i+o.right-r.right)):(o.top<r.top&&(c=i-(r.top-o.top)),o.bottom>r.bottom&&(c=i+(o.bottom-r.bottom))),c=Math.max(c,0),w.value=Math.min(c,s)},R=()=>{if(!h.value||!m.value)return;const e=h.value[`offset${(0,s.kC)(x.value)}`],t=m.value[`offset${(0,s.kC)(x.value)}`],a=w.value;if(t<e){const a=w.value;k.value=k.value||{},k.value.prev=a,k.value.next=a+t<e,e-a<t&&(w.value=e-t)}else k.value=!1,a>0&&(w.value=0)},j=e=>{const t=e.code,{up:a,down:n,left:l,right:o}=y.n;if(![a,n,l,o].includes(t))return;const r=Array.from(e.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),s=r.indexOf(e.target);let i;i=t===l||t===a?0===s?r.length-1:s-1:s<r.length-1?s+1:0,r[i].focus(),r[i].click(),_()},_=()=>{V.value&&(T.value=!0)},A=()=>T.value=!1;return(0,n.watch)(d,(e=>{"hidden"===e?V.value=!1:"visible"===e&&setTimeout((()=>V.value=!0),50)})),(0,n.watch)(p,(e=>{e?setTimeout((()=>V.value=!0),50):V.value=!1})),(0,i.yU7)(N,R),(0,n.onMounted)((()=>setTimeout((()=>S()),0))),(0,n.onUpdated)((()=>R())),t({scrollToActiveTab:S,removeFocus:A}),(0,n.watch)((()=>e.panes),(()=>a.update()),{flush:"post"}),()=>{const t=k.value?[(0,n.createVNode)("span",{class:[c.e("nav-prev"),c.is("disabled",!k.value.prev)],onClick:$},[(0,n.createVNode)(o.gn,null,{default:()=>[(0,n.createVNode)(r.ArrowLeft,null,null)]})]),(0,n.createVNode)("span",{class:[c.e("nav-next"),c.is("disabled",!k.value.next)],onClick:B},[(0,n.createVNode)(o.gn,null,{default:()=>[(0,n.createVNode)(r.ArrowRight,null,null)]})])]:null,a=e.panes.map(((t,a)=>{var l,s,i,d;const p=t.uid,v=t.props.disabled,b=null!=(s=null!=(l=t.props.name)?l:t.index)?s:`${a}`,f=!v&&(t.isClosable||e.editable);t.index=`${a}`;const m=f?(0,n.createVNode)(o.gn,{class:"is-icon-close",onClick:a=>e.onTabRemove(t,a)},{default:()=>[(0,n.createVNode)(r.Close,null,null)]}):null,h=(null==(d=(i=t.slots).label)?void 0:d.call(i))||t.props.label,g=!v&&t.active?0:-1;return(0,n.createVNode)("div",{ref:`tab-${p}`,class:[c.e("item"),c.is(u.props.tabPosition),c.is("active",t.active),c.is("disabled",v),c.is("closable",f),c.is("focus",T.value)],id:`tab-${b}`,key:`tab-${p}`,"aria-controls":`pane-${b}`,role:"tab","aria-selected":t.active,tabindex:g,onFocus:()=>_(),onBlur:()=>A(),onClick:a=>{A(),e.onTabClick(t,b,a)},onKeydown:a=>{!f||a.code!==y.n["delete"]&&a.code!==y.n.backspace||e.onTabRemove(t,a)}},[h,m])}));return(0,n.createVNode)("div",{ref:N,class:[c.e("nav-wrap"),c.is("scrollable",!!k.value),c.is(u.props.tabPosition)]},[t,(0,n.createVNode)("div",{class:c.e("nav-scroll"),ref:m},[(0,n.createVNode)("div",{class:[c.e("nav"),c.is(u.props.tabPosition),c.is("stretch",e.stretch&&["top","bottom"].includes(u.props.tabPosition))],ref:h,style:P.value,role:"tablist",onKeydown:j},[e.type?null:(0,n.createVNode)(g,{tabs:[...e.panes]},null),a])])])}}});var w=a(6413),T=a(6835),V=a(7354),x=a(7643);const P=(0,u.o8)({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:(0,u.Cq)(Function),default:()=>!0},stretch:Boolean}),$=e=>(0,s.HD)(e)||(0,w.hj)(e),B={[T.f_]:e=>$(e),"tab-click":(e,t)=>t instanceof Event,"tab-change":e=>$(e),edit:(e,t)=>["remove","add"].includes(t),"tab-remove":e=>$(e),"tab-add":()=>!0};var S=(0,n.defineComponent)({name:"ElTabs",props:P,emits:B,setup(e,{emit:t,slots:a,expose:s}){var i,u;const c=(0,f.s)("tabs"),d=(0,l.ref)(),p=(0,l.reactive)({}),b=(0,l.ref)(null!=(u=null!=(i=e.modelValue)?i:e.activeName)?u:"0"),m=e=>{b.value=e,t(T.f_,e),t("tab-change",e)},h=async t=>{var a,n,l;if(b.value!==t&&!(0,V.o8)(t))try{const o=await(null==(a=e.beforeLeave)?void 0:a.call(e,t,b.value));!1!==o&&(m(t),null==(l=null==(n=d.value)?void 0:n.removeFocus)||l.call(n))}catch(o){}},g=(e,a,n)=>{e.props.disabled||(h(a),t("tab-click",e,n))},N=(e,a)=>{e.props.disabled||(0,V.o8)(e.props.name)||(a.stopPropagation(),t("edit",e.props.name,"remove"),t("tab-remove",e.props.name))},C=()=>{t("edit",void 0,"add"),t("tab-add")};(0,x.A)({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},(0,n.computed)((()=>!!e.activeName))),(0,n.watch)((()=>e.activeName),(e=>h(e))),(0,n.watch)((()=>e.modelValue),(e=>h(e))),(0,n.watch)(b,(async()=>{var e;await(0,n.nextTick)(),null==(e=d.value)||e.scrollToActiveTab()}));{const t=e=>p[e.uid]=e,a=e=>delete p[e];(0,n.provide)(v,{props:e,currentName:b,registerPane:t,unregisterPane:a})}return s({currentName:b}),()=>{const t=e.editable||e.addable?(0,n.createVNode)("span",{class:c.e("new-tab"),tabindex:"0",onClick:C,onKeydown:e=>{e.code===y.n.enter&&C()}},[(0,n.createVNode)(o.gn,{class:c.is("icon-plus")},{default:()=>[(0,n.createVNode)(r.Plus,null,null)]})]):null,l=(0,n.createVNode)("div",{class:[c.e("header"),c.is(e.tabPosition)]},[t,(0,n.createVNode)(k,{ref:d,currentName:b.value,editable:e.editable,type:e.type,panes:Object.values(p),stretch:e.stretch,onTabClick:g,onTabRemove:N},null)]),s=(0,n.createVNode)("div",{class:c.e("content")},[(0,n.renderSlot)(a,"default")]);return(0,n.createVNode)("div",{class:[c.b(),c.m(e.tabPosition),{[c.m("card")]:"card"===e.type,[c.m("border-card")]:"border-card"===e.type}]},[..."bottom"!==e.tabPosition?[l,s]:[s,l]])}}}),R=a(9242);const j=(0,u.o8)({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),_=["id","aria-hidden","aria-labelledby"],A={name:"ElTabPane"},E=(0,n.defineComponent)({...A,props:j,setup(e){const t=e,a="ElTabPane",o=(0,n.getCurrentInstance)(),r=(0,n.useSlots)(),i=(0,n.inject)(v);i||(0,b._)(a,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const u=(0,f.s)("tab-pane"),c=(0,l.ref)(),d=(0,n.computed)((()=>t.closable||i.props.closable)),p=(0,w.Rc)((()=>{var e;return i.currentName.value===(null!=(e=t.name)?e:c.value)})),m=(0,l.ref)(p.value),h=(0,n.computed)((()=>{var e;return null!=(e=t.name)?e:c.value})),g=(0,w.Rc)((()=>!t.lazy||m.value||p.value));(0,n.watch)(p,(e=>{e&&(m.value=!0)}));const y=(0,l.reactive)({uid:o.uid,slots:r,props:t,paneName:h,active:p,index:c,isClosable:d});return(0,n.onMounted)((()=>{i.registerPane(y)})),(0,n.onUnmounted)((()=>{i.unregisterPane(y.uid)})),(e,t)=>(0,l.unref)(g)?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,id:`pane-${(0,l.unref)(h)}`,class:(0,s.C_)((0,l.unref)(u).b()),role:"tabpanel","aria-hidden":!(0,l.unref)(p),"aria-labelledby":`tab-${(0,l.unref)(h)}`},[(0,n.renderSlot)(e.$slots,"default")],10,_)),[[R.F8,(0,l.unref)(p)]]):(0,n.createCommentVNode)("v-if",!0)}});var F=(0,p.Z)(E,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]),q=a(9015);const U=(0,q.nz)(S,{TabPane:F}),K=(0,q.dp)(F)},33:function(e,t,a){a(1758)}}]);
//# sourceMappingURL=370.ced4020f.js.map
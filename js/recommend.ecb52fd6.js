"use strict";(self["webpackChunkmusic"]=self["webpackChunkmusic"]||[]).push([[131],{8594:function(e,t,l){l.r(t),l.d(t,{default:function(){return f}});var a=l(3396),o=l(4870),n=l(8061),i=(l(6905),l(9007),l(7139)),s={__name:"VirtualList",props:{listData:{type:Array,default:[]},itemSize:{type:Number,default:200},itemSize:{type:Object,default:()=>({fontSize:"13px",height:"50px"})}},setup(e){const t=e,l=(0,o.ref)(!0),s=(0,o.ref)(),u=(0,o.ref)(0),r=(0,o.ref)(0),c=(0,o.ref)(0),d=(0,o.ref)(null),p=(0,a.computed)((()=>t.listData.length*parseInt(t.itemSize.height.match(/\d+/g)[0]))),v=(0,a.computed)((()=>Math.ceil(u.value/parseInt(t.itemSize.height.match(/\d+/g)[0])))),h=(0,a.computed)((()=>t.listData.slice(c.value,Math.min(d.value+1,t.listData.length)))),f=(0,a.computed)((()=>`translate3d(0,${r.value}px,0)`));(0,a.onMounted)((()=>{u.value=s.value.clientHeight,console.log(s.value.clientHeight),d.value=c.value+v.value,console.log(v.value),console.log(c.value),console.log(d.value),console.log(h.value)}));const m=e=>{console.log(u.value),e.target.scrollTop>u.value?l.value=!1:l.value=!0;let a=s.value.scrollTop;c.value=Math.floor(a/parseInt(t.itemSize.height.match(/\d+/g)[0])),d.value=c.value+v.value,r.value=a-a%parseInt(t.itemSize.height.match(/\d+/g)[0])};return(t,u)=>{const r=n.$Y,c=n.eI;return(0,a.openBlock)(),(0,a.createElementBlock)("div",{ref_key:"list",ref:s,class:"infinite-list-container",onScroll:u[0]||(u[0]=e=>m(e))},[(0,a.createElementVNode)("div",{class:"infinite-list-phantom",style:(0,i.j5)({height:(0,o.unref)(p)+"px"})},null,4),(0,a.createVNode)(c,{class:"infinite-list",data:(0,o.unref)(h),"row-style":e.itemSize,style:(0,i.j5)({transform:(0,o.unref)(f)}),"show-header":(0,o.unref)(l)},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(r,{prop:"id",label:"id",width:"180"}),(0,a.createVNode)(r,{prop:"value",label:"Date"})])),_:1},8,["data","row-style","style","show-header"])],544)}}},u=l(89);const r=(0,u.Z)(s,[["__scopeId","data-v-4d6b87b0"]]);var c=r,d=l(2483);const p={class:"podcast"};var v={__name:"podcast",props:{},setup(e,{emit:t}){(0,d.tv)();const l=(0,o.ref)([]);return(0,a.onMounted)((()=>{for(let e=0;e<1e3;e++)l.value.push({id:e,value:String(Date.now())});console.log("onMounted")})),(0,a.onActivated)((()=>{console.log("缓存")})),(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",p,[(0,a.createVNode)(c,{listData:(0,o.unref)(l),itemSize:{height:"100px"}},null,8,["listData"])]))}};const h=(0,u.Z)(v,[["__scopeId","data-v-06c91c74"]]);var f=h}}]);
//# sourceMappingURL=recommend.ecb52fd6.js.map
"use strict";(self["webpackChunkmusic"]=self["webpackChunkmusic"]||[]).push([[70],{7847:function(A,e,t){t.d(e,{Z:function(){return i}});var n=t(877),a=(t(9395),t(3396)),o=t(7139),r=t(1712),c={__name:"detail-Components",props:{detailInfo:{type:Object,default:()=>({})}},setup(A){return(e,t)=>{const c=n.vk;return(0,a.openBlock)(),(0,a.createBlock)(c,{animated:"",loading:0==Object.keys(A.detailInfo).length},{template:(0,a.withCtx)((()=>[(0,a.createVNode)(r.Z)])),default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(A.detailInfo,(A=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:A,class:"info"},[(0,a.renderSlot)(e.$slots,"item",(0,o.vs)((0,a.guardReactiveProps)(A)))])))),128))])),_:3},8,["loading"])}}},l=t(89);const s=(0,l.Z)(c,[["__scopeId","data-v-58de7f24"]]);var i=s},19:function(A,e,t){t.r(e),t.d(e,{default:function(){return oA}});var n=t(970),a=(t(451),t(2951)),o=t(3396),r=t(4870),c=t(7847),l=t(1015),s=(t(8474),t(8179)),i=(t(6809),t(7139)),m=t(3741),u=t(1426),d=t(2483),p=t(65);const f=A=>((0,o.pushScopeId)("data-v-4214f648"),A=A(),(0,o.popScopeId)(),A),g={class:"album_info"},v={class:"main"},h={class:"img"},N=["default-img"],k={class:"info"},w={key:0,class:"name"},y=f((()=>(0,o.createElementVNode)("span",{class:"info_menu"},"专辑",-1))),C={class:"album_name"},b={key:0,class:"transNames"},x={class:"three"},B=f((()=>(0,o.createElementVNode)("svg",{class:"icon play","aria-hidden":"true"},[(0,o.createElementVNode)("use",{"xlink:href":"#icon-playfill-copy-copy"})],-1))),V=f((()=>(0,o.createElementVNode)("span",null,"播放全部",-1))),E=f((()=>(0,o.createElementVNode)("span",null,"收藏",-1))),I={class:"singer"},M=["onClick"];var P={__name:"albumInfo",emits:["changeTitle"],setup(A,{emit:e}){const n=(0,p.useStore)(),a=(0,d.yj)(),f=(0,d.tv)(),P=t(2526),j=(0,r.ref)({}),z=n.dispatch("recommend/singer/getAlbumContent",a.query.ids),Z=n.dispatch("recommend/singer/getAlbumDynamic",a.query.ids);Promise.all([z,Z]).then((A=>{e("changeTitle",A[1].commentCount);const t={coverImgUrl:A[0].picUrl,name:A[0].name,transNames:A[0].transNames?A[0].transNames[0]:null,time:A[0].publishTime,artist:A[0].artist.name,artistid:A[0].artist.id},n={subscribedCount:A[1].subCount,shareCount:A[1].shareCount};j.value=[Object.assign(t,n)]}));const T=(0,o.computed)((()=>n.state.login.profile)),_=()=>{T.value||n.commit("login/changelogindialog",!0)},L=()=>{T.value||n.commit("login/changelogindialog",!0)},F=()=>{T.value||n.commit("login/changelogindialog",!0)},H=A=>{console.log(A),f.push({path:"/singerDetailPage",query:{id:A}})};return(A,e)=>{const t=s.mi,n=(0,o.resolveComponent)("FolderAdd"),a=l.gn,d=(0,o.resolveComponent)("Share"),p=(0,o.resolveComponent)("Download"),f=c.Z,z=(0,o.resolveDirective)("image");return(0,o.openBlock)(),(0,o.createElementBlock)("div",g,[(0,o.createVNode)(f,{detailInfo:(0,r.unref)(j)},{item:(0,o.withCtx)((({coverImgUrl:A,name:e,transNames:c,subscribedCount:l,shareCount:s,time:f,artist:g,artistid:j})=>[(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",h,[(0,o.withDirectives)((0,o.createElementVNode)("img",{alt:"","default-img":(0,r.unref)(P)},null,8,N),[[z,`${A}?param=300y300`]])]),(0,o.createElementVNode)("div",k,[e?((0,o.openBlock)(),(0,o.createElementBlock)("div",w,[y,(0,o.createElementVNode)("span",C,(0,i.zw)(e),1),c?((0,o.openBlock)(),(0,o.createElementBlock)("span",b," ("+(0,i.zw)(c)+")",1)):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",x,[(0,o.createVNode)(t,{class:"three-items all_play",color:"#F2F2F2",plain:""},{default:(0,o.withCtx)((()=>[B,V])),_:1}),(0,o.createVNode)(t,{class:"three-items",color:"#F2F2F2",plain:"",onClick:_},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,{size:20},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(n)])),_:1}),E,(0,o.createTextVNode)(" ("+(0,i.zw)((0,r.unref)(m.u)(l))+") ",1)])),_:2},1024),(0,o.createVNode)(t,{class:"three-items",color:"#F2F2F2",plain:"",onClick:L},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(d)])),_:1}),(0,o.createTextVNode)("分享 ("+(0,i.zw)((0,r.unref)(m.u)(s))+")",1)])),_:2},1024),(0,o.createVNode)(t,{class:"three-items",color:"#F2F2F2",plain:"",onClick:F},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(a,null,{default:(0,o.withCtx)((()=>[(0,o.createVNode)(p)])),_:1}),(0,o.createTextVNode)("下载全部")])),_:1})]),(0,o.createElementVNode)("div",I,[(0,o.createElementVNode)("span",null,[(0,o.createTextVNode)("歌手: "),(0,o.createElementVNode)("a",{href:"javascript:void(0)",onClick:A=>H(j)},(0,i.zw)(g),9,M)]),(0,o.createElementVNode)("span",null,"时间: "+(0,i.zw)((0,r.unref)(u.U)(f)),1)])])])])),_:1},8,["detailInfo"])])}}},j=t(89);const z=(0,j.Z)(P,[["__scopeId","data-v-4214f648"]]);var Z=z,T=t(9528),_=t(7026);t(6982);const L=A=>((0,o.pushScopeId)("data-v-18f9618e"),A=A(),(0,o.popScopeId)(),A),F={class:"album_song_list"},H=["onClick"],S=["onClick"],O=L((()=>(0,o.createElementVNode)("span",null," / ",-1))),D=["onClick"];var Q={__name:"albumSongList",setup(A){const e=(0,p.useStore)(),t=(0,d.yj)(),n=(0,d.tv)(),a=(0,o.computed)((()=>e.state.recommend.singer.albumSons)),c=A=>{e.dispatch("playMusic/dispatchMusicInfo",A),e.commit("songMenu/CurrentMenuList",a.value)},l=A=>{console.log(A),n.push({path:"/singerDetailPage",query:{id:A}})},s=A=>{console.log(A),n.push({path:"/albumDetailPage",query:{ids:A}})};return(0,o.onMounted)((()=>{console.log("object"),e.dispatch("recommend/singer/getAlbumContent",t.query.ids)})),(0,o.onUnmounted)((()=>{console.log("exit"),e.state.recommend.singer.albumSons=[]})),(A,e)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",F,[(0,o.createVNode)(_.Z,{songList:(0,r.unref)(a),class:"song_list",onOnhandleClick:c},{author:(0,o.withCtx)((A=>[(0,o.createElementVNode)("span",{onClick:e=>l(A.row.author[0].id),class:"cursorHover"},(0,i.zw)(A.row.author[0].name),9,H),A.row.author[1]?((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:0,onClick:e=>l(A.row.author[1].id),class:"cursorHover"},[O,(0,o.createTextVNode)(" "+(0,i.zw)(A.row.author[1].name),1)],8,S)):(0,o.createCommentVNode)("",!0)])),album:(0,o.withCtx)((A=>[(0,o.createElementVNode)("span",{onClick:e=>s(A.row.songsInfo.id),class:"cursorHover"},(0,i.zw)(A.row.album),9,D)])),_:1},8,["songList"])]))}};const R=(0,j.Z)(Q,[["__scopeId","data-v-18f9618e"]]);var W=R,J=t(3870),X=(t(1080),t(6097)),q=(t(2760),t(877)),U=(t(9395),t(9566)),Y=t(4007);const G={key:0,class:"album_comment"},K={class:"comment_title"};var $={__name:"albumComment",props:{},async setup(A,{emit:e}){let t,n;const a=(0,p.useStore)(),c=(0,d.yj)(),l=(0,r.ref)({limit:30,offset:1}),s=(0,r.ref)(!0),m=async A=>{const e=await a.dispatch("comment/getComment",{id:c.query.ids,limit:l.value.limit,offset:A*l.value.limit});e.length||(s.value=!1)};[t,n]=(0,o.withAsyncContext)((()=>m(0))),await t,n();const u=(0,r.ref)(!1);(0,o.watch)((()=>l.value.offset),(A=>{u.value=!0,m(A-1)}));const f=(0,o.computed)((()=>a.state.comment.hotComments)),g=(0,o.computed)((()=>a.state.comment.comments)),v=(0,o.computed)((()=>a.state.comment.total)),h=A=>{console.log(A)};return(0,o.watch)((()=>g.value),(A=>{A&&(u.value=!1)})),(A,e)=>{const t=U.Z,n=q.vk,a=X.R,c=J.GT;return(0,r.unref)(s)?((0,o.openBlock)(),(0,o.createElementBlock)("div",G,[1==(0,r.unref)(l).offset?((0,o.openBlock)(),(0,o.createBlock)(t,{key:0,comment:(0,r.unref)(f),class:"hot_comments",onOnClickStar:h},(0,o.createSlots)({_:2},[(0,r.unref)(f).length?{name:"comment-title",fn:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",K,"精彩评论("+(0,i.zw)((0,r.unref)(f).length)+")",1)])),key:"0"}:void 0]),1032,["comment"])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("span",{class:"comment_title",ref:"agocomment"},"最新评论("+(0,i.zw)((0,r.unref)(v))+")",513),(0,o.createVNode)(n,{loading:(0,r.unref)(u),count:10},{template:(0,o.withCtx)((()=>[(0,o.createVNode)(Y.Z)])),default:(0,o.withCtx)((()=>[(0,o.createVNode)(t,{comment:(0,r.unref)(g)},null,8,["comment"])])),_:1},8,["loading"]),(0,o.createVNode)(a,{background:"",layout:"prev, pager, next",currentPage:(0,r.unref)(l).offset,"onUpdate:currentPage":e[0]||(e[0]=A=>(0,r.unref)(l).offset=A),"page-size":(0,r.unref)(l).limit,"onUpdate:page-size":e[1]||(e[1]=A=>(0,r.unref)(l).limit=A),total:(0,r.unref)(v),class:"pagination"},null,8,["currentPage","page-size","total"])])):((0,o.openBlock)(),(0,o.createBlock)(c,{key:1,description:"暂无评论"}))}}};const AA=(0,j.Z)($,[["__scopeId","data-v-5d7ac81b"]]);var eA=AA,tA=t(5399),nA={__name:"albumDetailPage",props:{},setup(A,{emit:e}){(0,d.yj)(),(0,p.useStore)(),(0,d.tv)();const t=(0,r.ref)(["歌曲列表","评论","专辑详情"]),c=A=>{t.value[1]=`评论(${A})`},l=(0,r.ref)(0),s=A=>{console.log(A),l.value=A};return(A,e)=>{const i=a.Z,m=n.Mr;return(0,o.openBlock)(),(0,o.createBlock)(m,{class:"albumDetail"},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(Z,{onChangeTitle:c}),(0,o.createVNode)(T.Z,{title:(0,r.unref)(t),onTabIndex:s},(0,o.createSlots)({1:(0,o.withCtx)((()=>[(0,o.createVNode)(i),1===(0,r.unref)(l)?((0,o.openBlock)(),(0,o.createBlock)(o.Suspense,{key:0},{fallback:(0,o.withCtx)((()=>[(0,o.createVNode)(tA.Z)])),default:(0,o.withCtx)((()=>[(0,o.createVNode)(eA)])),_:1})):(0,o.createCommentVNode)("",!0)])),_:2},[0===(0,r.unref)(l)?{name:"0",fn:(0,o.withCtx)((()=>[(0,o.createVNode)(W)])),key:"0"}:void 0]),1032,["title"])])),_:1})}}};const aA=(0,j.Z)(nA,[["__scopeId","data-v-240e9abc"]]);var oA=aA},2526:function(A){A.exports="data:image/jpeg;base64,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"}}]);
//# sourceMappingURL=70.2d3f6f86.js.map
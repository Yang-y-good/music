{"version":3,"file":"js/664.8b721ad6.js","mappings":"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","sources":["webpack://music/./src/views/findMusic/newMusic/children/newmusicHome.vue","webpack://music/./src/views/findMusic/newMusic/children/newmusicHome.vue?5fe5"],"sourcesContent":["import { unref as _unref, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-bcecaa72\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"newmusic_home\"\n};\nconst _hoisted_2 = [\"onClick\"];\nconst _hoisted_3 = [\"onClick\"];\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \" / \", -1));\n\nconst _hoisted_5 = [\"onClick\"];\nimport tabs from \"@/components/tabs.vue\";\nimport { ref } from \"@vue/reactivity\";\nimport { nextTick, onMounted, onUnmounted } from \"@vue/runtime-core\";\nimport { useStore } from \"vuex\";\nimport { mapMusicInfo } from \"@/hook/mapMusicInfo\";\nimport songList from \"@/components/song-List.vue\";\nimport loading from \"@/components/loading.vue\";\nimport { useRouter } from \"vue-router\";\nimport { usePlayMusic } from \"@/hook/playMusic\";\nexport default {\n  __name: 'newmusicHome',\n  props: {},\n\n  setup(__props, {\n    emit\n  }) {\n    const props = __props;\n    const store = useStore();\n    const router = useRouter();\n    const isShowLoading = ref(true);\n    const tabStyle = {\n      cursor: \"pointer\",\n      fontSize: \"13px\",\n      height: \"60px\"\n    };\n    const proplist = [{\n      prop: \"author\",\n      label: \"歌手\",\n      \"min-width\": \"100\",\n      slotName: \"author\"\n    }, {\n      prop: \"album\",\n      label: \"专辑\",\n      \"min-width\": \"50\",\n      slotName: \"album\"\n    }, {\n      prop: \"time\",\n      label: \"时间\",\n      align: \"right\"\n    }]; // 存储全部歌曲\n\n    const musicList = ref([]); // 保存歌曲id\n\n    const songId = ref();\n\n    const getMusicDetail = type => {\n      isShowLoading.value = false;\n      store.dispatch(\"recommend/newsong/getNewMusicInfo\", type).then(res => {\n        // 将歌曲id转化为数组\n        const arr = Array.from(res, v => {\n          return v.id;\n        });\n        songId.value = arr[0]; // 使用歌曲id获取歌曲详情\n\n        store.dispatch(\"recommend/newsong/getMusicDetail\", arr).then(res => {\n          musicList.value = res;\n\n          if (res) {\n            isShowLoading.value = true;\n          }\n        });\n      });\n    }; // 播放全部\n\n\n    const playClick = () => {\n      // 通过歌曲id获取歌曲信息并播放\n      store.dispatch(\"playMusic/getMusicInfo\", songId.value).then(res => {\n        const {\n          songs\n        } = res;\n        const song = mapMusicInfo(songs); // 播放歌曲\n\n        store.dispatch(\"playMusic/dispatchMusicInfo\", song[0]);\n      }); // 将全部歌曲加入播放列表\n\n      store.commit(\"songMenu/CurrentMenuList\", musicList.value);\n    }; // tbas切换\n\n\n    const title = ref([{\n      type: \"0\",\n      name: \"全部\"\n    }, {\n      type: \"7\",\n      name: \"华语\"\n    }, {\n      type: \"96\",\n      name: \"欧美\"\n    }, {\n      type: \"16\",\n      name: \"韩国\"\n    }, {\n      type: \"8\",\n      name: \"日本\"\n    }]); // 点击的当前元素\n\n    const currentLeft = ref(title.value[0]); // 点击触发\n\n    const handleClick = item => {\n      currentLeft.value = item; // 点击歌曲的下标\n\n      getMusicDetail(item.type);\n    };\n\n    getMusicDetail(currentLeft.value.type);\n    const index = ref(); // 监听歌曲的点击事件\n\n    const onclick = row => {\n      console.log(\"newmusci\", row);\n      index.value = row.index; // 发送歌曲信息播放歌曲\n\n      store.dispatch(\"playMusic/dispatchMusicInfo\", row); // 将歌曲添加进播放列表\n\n      store.commit(\"songMenu/CurrentMenuList\", musicList.value);\n    }; // 跳转到歌手界面\n\n\n    const singerClick = id => {\n      console.log(id);\n      router.push({\n        path: \"/singerDetailPage\",\n        query: {\n          id\n        }\n      });\n    }; // 跳转到专辑页面\n\n\n    const albumClick = id => {\n      console.log(id);\n      router.push({\n        path: \"/albumDetailPage\",\n        query: {\n          ids: id\n        }\n      });\n    };\n\n    return (_ctx, _cache) => {\n      const _component_el_button = _resolveComponent(\"el-button\");\n\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(tabs, {\n        titleLeft: _unref(title),\n        currentLeft: _unref(currentLeft),\n        onHandleTitleLeft: handleClick\n      }, {\n        title_right: _withCtx(() => [_createVNode(_component_el_button, {\n          round: \"\",\n          class: \"playAll\",\n          onClick: playClick\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"播放全部\")]),\n          _: 1\n        }), _createVNode(_component_el_button, {\n          round: \"\",\n          class: \"subAll\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"收藏全部\")]),\n          _: 1\n        })]),\n        _: 1\n      }, 8, [\"titleLeft\", \"currentLeft\"]), _unref(isShowLoading) ? (_openBlock(), _createBlock(songList, {\n        key: 0,\n        class: \"song_list\",\n        songList: _unref(musicList),\n        showHeader: false,\n        isHandleShow: false,\n        showImg: true,\n        onOnhandleClick: onclick,\n        tabStyle: tabStyle,\n        propList: proplist\n      }, {\n        author: _withCtx(scoped => [_createElementVNode(\"span\", {\n          onClick: $event => singerClick(scoped.row.author[0].id),\n          class: \"cursorHover\"\n        }, _toDisplayString(scoped.row.author[0].name), 9, _hoisted_2), scoped.row.author[1] ? (_openBlock(), _createElementBlock(\"span\", {\n          key: 0,\n          onClick: $event => singerClick(scoped.row.author[1].id),\n          class: \"cursorHover\"\n        }, [_hoisted_4, _createTextVNode(\" \" + _toDisplayString(scoped.row.author[1].name), 1)], 8, _hoisted_3)) : _createCommentVNode(\"\", true)]),\n        album: _withCtx(scoped => [_createElementVNode(\"span\", {\n          onClick: $event => albumClick(scoped.row.songsInfo.id),\n          class: \"cursorHover\"\n        }, _toDisplayString(scoped.row.album), 9, _hoisted_5)]),\n        _: 1\n      }, 8, [\"songList\"])) : (_openBlock(), _createBlock(loading, {\n        key: 1\n      }))]);\n    };\n  }\n\n};","/* unplugin-vue-components disabled */import script from \"./newmusicHome.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./newmusicHome.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./newmusicHome.vue?vue&type=style&index=0&id=bcecaa72&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\网易云\\\\music\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-bcecaa72\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","__name","props","setup","__props","emit","store","useStore","router","isShowLoading","ref","tabStyle","cursor","fontSize","height","proplist","prop","label","slotName","align","musicList","songId","getMusicDetail","type","value","dispatch","then","res","arr","Array","from","v","id","playClick","songs","song","mapMusicInfo","commit","title","name","currentLeft","handleClick","item","index","onclick","row","console","log","singerClick","push","path","query","albumClick","ids","_ctx","_cache","_component_el_button","tabs","titleLeft","onHandleTitleLeft","title_right","round","onClick","default","_","key","songList","showHeader","isHandleShow","showImg","onOnhandleClick","propList","author","scoped","$event","album","songsInfo","loading","__exports__"],"sourceRoot":""}
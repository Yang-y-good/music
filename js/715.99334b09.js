"use strict";(self["webpackChunkmusic"]=self["webpackChunkmusic"]||[]).push([[715],{9654:function(e,t,a){a.d(t,{Z:function(){return h}});var n=a(970),o=(a(451),a(3396)),l=a(7139),r=a(9242);const s={class:"categorytbas"},c={class:"tabs_songMenu"},i={class:"tabs_select"},u={class:"conent"},d={key:0,class:"total_Menu"},p={class:"headre"},m={class:"category"};var v={__name:"categoryTabs",props:{hotTags:{type:Array,default:[]},tags:{type:Array,default:[]},isCategory:{type:Boolean,default:!1}},setup(e,{emit:t}){return(t,a)=>{const v=n.Mr;return(0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",i,[(0,o.renderSlot)(t.$slots,"All")]),(0,o.createElementVNode)("div",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.hotTags,((e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:a,class:"tabs_text"},[(0,o.renderSlot)(t.$slots,"hotTabs",(0,l.vs)((0,o.guardReactiveProps)(e)))])))),128))])]),(0,o.withDirectives)((0,o.createElementVNode)("div",u,[e.isCategory?((0,o.openBlock)(),(0,o.createElementBlock)("div",d,[(0,o.createElementVNode)("div",p,[(0,o.renderSlot)(t.$slots,"tabsHeadre")]),(0,o.createVNode)(v,{"max-height":"400px"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",m,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.tags,((e,a)=>((0,o.openBlock)(),(0,o.createElementBlock)("span",{key:a,class:"category_items"},[(0,o.renderSlot)(t.$slots,"tags",(0,o.mergeProps)(e,{class:"tags_select"}))])))),128))])])),_:3})])):(0,o.createCommentVNode)("",!0)],512),[[r.F8,e.tags]])])}}},f=a(89);const g=(0,f.Z)(v,[["__scopeId","data-v-8666bd6c"]]);var h=g},2247:function(e,t,a){a.r(t),a.d(t,{default:function(){return R}});var n=a(3247),o=(a(6588),a(7488)),l=(a(9406),a(9776)),r=(a(6885),a(4902)),s=(a(8839),a(9623)),c=(a(4566),a(1015)),i=(a(8474),a(3396)),u=a(4870),d=a(9242),p=a(7139),m=a(3741),v=a(6757),f=a(5399),g=(a(994),a(65)),h=a(2483);const k=e=>((0,i.pushScopeId)("data-v-564beade"),e=e(),(0,i.popScopeId)(),e),y=["infinite-scroll-disabled"],b={class:"item"},C=["onClick"],N=["onMouseover"],E=k((()=>(0,i.createElementVNode)("source",{type:"image/webp"},null,-1))),_=["src"],V={class:"icon shanjiao","aria-hidden":"true"},w=k((()=>(0,i.createElementVNode)("use",{"xlink:href":"#icon-playfill-copy"},null,-1))),B=[w],x={class:"playCount"},T={class:"video_durationms"},$=["onClick"],S={class:"author"},j=["onClick"],q={key:1},A={key:1},M=k((()=>(0,i.createElementVNode)("div",{class:"loader-container"},[(0,i.createElementVNode)("div",{class:"loader"})],-1))),H=[M];var I={__name:"listVideo",setup(e,{emit:t}){const a={xs:{span:24},sm:{span:12},md:{span:8},lg:{span:6},xl:{span:4}},k=(0,u.ref)(!1),w=(0,g.useStore)(),M=(0,h.tv)(),I=(0,h.yj)(),L=(0,u.ref)([]),Z=(0,u.ref)(),R=(0,u.ref)(),z=e=>{R.value=e.target.scrollTop};(0,i.onMounted)((()=>{console.log(Z.value)})),(0,i.onActivated)((()=>{Z.value&&(Z.value.scrollTop=R.value)}));const D=(0,u.reactive)({offset:0,id:58100}),O=e=>{w.dispatch("video/getVideoGroups",e).then((e=>{L.value=e}))};O(D),(0,i.watch)((()=>w.getters["video/getTags"]),(e=>{L.value=[],console.log("------------------------------------",e),D.offset=0,D.id=e.id,O(D)}));const F=(0,u.ref)(!1);let P=null;const G=(e,t)=>{clearInterval(P),t.data.previewUrl&&e.path?(e.path[1].firstChild.setAttribute("srcset",t.data.previewUrl),P=setTimeout((()=>{e.path[1].firstChild?.setAttribute("srcset",""),F.value=t.data.vid}),5500)):F.value=t.data.vid||t.data.id},K=e=>{clearInterval(P),F.value=0,e.path&&e.path[0].firstChild.setAttribute("srcset","")},U=(0,u.ref)(!1),J=()=>{console.log("加载更多-------------"),D.offset+=8;const e=setTimeout((()=>{k.value=!0}),500);try{w.dispatch("video/getVideoGroups",D).then((t=>{clearTimeout(e),k.value=!1,L.value.push(...t)}))}catch(t){console.log("禁用滚动条"),U.value=!0}},Q=e=>{console.log(typeof I.query.tag),1e3===parseInt(I.query.tag)?(console.log("MV"),console.log(e),M.push({path:"/mainVideo",query:{mvId:e.data.id}})):M.push({path:"/mainVideo",query:{vid:e.data.vid}})},X=e=>{console.log(e),M.push({path:"/profilePage",query:{id:e.userId}})};return(e,t)=>{const g=(0,i.resolveComponent)("VideoPlay"),h=c.gn,w=s.Q0,M=r.Dv,I=l.dq,R=o.mR,D=n.n;return(0,i.openBlock)(),(0,i.createElementBlock)(i.Fragment,null,[(0,u.unref)(L).length?(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("div",{key:0,class:"video_tabs_list",ref_key:"video",ref:Z,"infinite-scroll-distance":500,"infinite-scroll-delay":500,"infinite-scroll-disabled":(0,u.unref)(U),onScroll:z},[(0,i.createElementVNode)("div",null,[(0,i.createVNode)(I,{gutter:30},{default:(0,i.withCtx)((()=>[((0,i.openBlock)(!0),(0,i.createElementBlock)(i.Fragment,null,(0,i.renderList)((0,u.unref)(L),(e=>((0,i.openBlock)(),(0,i.createBlock)(M,(0,i.mergeProps)({span:6,key:e},a),{default:(0,i.withCtx)((()=>[(0,i.createElementVNode)("div",b,[(0,i.createElementVNode)("div",{class:"img",onClick:t=>Q(e)},[(0,i.createElementVNode)("picture",{class:"picture",onMouseover:t=>G(t,e),onMouseleave:t[0]||(t[0]=e=>K(e))},[E,(0,i.createElementVNode)("img",{class:"el_img",src:`${e.data.coverUrl}?param=500y300`},null,8,_),(0,i.withDirectives)(((0,i.openBlock)(),(0,i.createElementBlock)("svg",V,B,512)),[[d.F8,(0,u.unref)(F)===e.data.vid]])],40,N),(0,i.createElementVNode)("div",x,[(0,i.createVNode)(h,null,{default:(0,i.withCtx)((()=>[(0,i.createVNode)(g)])),_:1}),(0,i.createElementVNode)("span",null,(0,p.zw)((0,u.unref)(m.u)(e.data?.playTime||e.data?.playCount)),1)]),(0,i.createElementVNode)("div",T,[(0,i.createElementVNode)("span",null,(0,p.zw)((0,u.unref)(v.M)(e.data?.durationms||e.data?.duration)),1)])],8,C),(0,i.createElementVNode)("div",{class:"title",onClick:t=>Q(e)},[(0,i.createVNode)(w,{class:"box-item",effect:"light","show-after":500,content:e.data.title||e.data.name,placement:"bottom"},{default:(0,i.withCtx)((()=>[(0,i.createElementVNode)("span",null,(0,p.zw)(e.data.title||e.data.name),1)])),_:2},1032,["content"])],8,$),(0,i.createElementVNode)("div",S,[e.data.creator?((0,i.openBlock)(),(0,i.createElementBlock)("span",{key:0,onClick:t=>X(e.data.creator)},(0,p.zw)(e.data.creator.nickname),9,j)):(0,i.createCommentVNode)("",!0),e.data.artists?((0,i.openBlock)(),(0,i.createElementBlock)("span",q,(0,p.zw)(e.data.artists[0].name),1)):(0,i.createCommentVNode)("",!0)])])])),_:2},1040)))),128))])),_:1})]),(0,u.unref)(k)?((0,i.openBlock)(),(0,i.createBlock)(f.Z,{key:0,class:"loading"})):(0,i.createCommentVNode)("",!0)],40,y)),[[D,J]]):((0,i.openBlock)(),(0,i.createElementBlock)("div",A,H)),(0,i.createVNode)(R,{right:50,bottom:110,"visibility-height":1e3,target:".el-scrollbar__wrap"})],64)}}},L=a(89);const Z=(0,L.Z)(I,[["__scopeId","data-v-564beade"]]);var R=Z},994:function(e,t,a){a.d(t,{Z:function(){return k}});var n=a(8179),o=(a(6809),a(1015)),l=(a(8474),a(3396)),r=a(4870),s=a(7139),c=a(9654),i=(a(2247),a(65)),u=a(2483);const d={class:"tabs"},p=["onClick"],m={class:"tags_select"},v=["onClick"];var f={__name:"tags",props:{},setup(e,{emit:t}){const a=(0,i.useStore)(),f=(0,u.tv)(),g=(0,l.computed)((()=>a.state.keepAliveViews)),h=(0,l.computed)((()=>a.state.notAliveViews)),k=(0,r.ref)(),y=(0,r.ref)(!1),b=(0,l.computed)((()=>(k.value.innerHTML=a.state.video.tags.name,a.state.video.tags.name))),C=(0,r.ref)([]);a.dispatch("video/getCategoryList").then((e=>{C.value=e}));const N=(0,r.ref)([]);a.dispatch("video/getGroupList").then((e=>{N.value=e}));const E=()=>{y.value=!y.value},_=(0,r.ref)(),V=(e,t)=>{_.value=t,f.push({path:"/video/listVideo",query:{tag:t}}),a.commit("video/setTags",{id:t,name:e})},w=(e,t)=>{_.value=t,f.push({path:"/video/listVideo",query:{tag:t}}),a.commit("video/setTags",{id:t,name:e}),y.value=!1},B=e=>{_.value=0,b.value=e,y.value=!1,k.value.innerHTML=e};return(e,t)=>{const a=(0,l.resolveComponent)("ArrowRight"),i=o.gn,u=n.mi,f=(0,l.resolveComponent)("router-view");return(0,l.openBlock)(),(0,l.createElementBlock)("div",d,[(0,l.createVNode)(c.Z,{hotTags:(0,r.unref)(C),tags:(0,r.unref)(N),isCategory:(0,r.unref)(y),class:"padd"},{All:(0,l.withCtx)((()=>[(0,l.createVNode)(u,{round:"",onClick:E},{default:(0,l.withCtx)((()=>[(0,l.createElementVNode)("span",{ref_key:"totalMenuRef",ref:k},"全部歌单",512),(0,l.createVNode)(i,null,{default:(0,l.withCtx)((()=>[(0,l.createVNode)(a)])),_:1})])),_:1})])),hotTabs:(0,l.withCtx)((({id:e,name:t})=>[(0,l.createElementVNode)("span",{class:(0,s.C_)({hot_tags:(0,r.unref)(b)===t})},[(0,l.createElementVNode)("span",{onClick:a=>V(t,e),class:"text"},(0,s.zw)(t),9,p)],2)])),tabsHeadre:(0,l.withCtx)((()=>[(0,l.createElementVNode)("span",{class:(0,s.C_)(["tag_all",{total_check:"全部视频"===(0,r.unref)(b)}]),onClick:t[0]||(t[0]=e=>B("全部视频"))},"全部视频",2)])),tags:(0,l.withCtx)((({id:e,name:t})=>[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("span",{class:(0,s.C_)(["icona",{text_check:(0,r.unref)(b)===t}]),onClick:a=>w(t,e)},(0,s.zw)(t),11,v)])])),_:1},8,["hotTags","tags","isCategory"]),(0,l.createVNode)(f,null,{default:(0,l.withCtx)((({Component:t})=>[((0,l.openBlock)(),(0,l.createBlock)(l.KeepAlive,{include:(0,r.unref)(g),exclude:(0,r.unref)(h)},[((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(t),{key:e.$route.meta.title}))],1032,["include","exclude"]))])),_:1})])}}},g=a(89);const h=(0,g.Z)(f,[["__scopeId","data-v-17a2e07e"]]);var k=h},7488:function(e,t,a){a.d(t,{mR:function(){return E}});var n=a(3396),o=a(4870),l=a(9242),r=a(7139),s=a(6413),c=a(6367),i=a(1015),u=a(2748);const d={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},p={click:e=>e instanceof MouseEvent};var m=a(5989),v=a(6734);const f=e=>e**3,g=e=>e<.5?f(2*e)/2:1-f(2*(1-e))/2;var h=a(4620);const k=["onClick"],y={name:"ElBacktop"},b=(0,n.defineComponent)({...y,props:d,emits:p,setup(e,{emit:t}){const a=e,d="ElBacktop",p=(0,v.s)("backtop"),m=(0,o.shallowRef)(),f=(0,o.shallowRef)(),y=(0,o.ref)(!1),b=(0,n.computed)((()=>({right:`${a.right}px`,bottom:`${a.bottom}px`}))),C=()=>{if(!m.value)return;const e=Date.now(),t=m.value.scrollTop,a=()=>{if(!m.value)return;const n=(Date.now()-e)/500;n<1?(m.value.scrollTop=t*(1-g(n)),requestAnimationFrame(a)):m.value.scrollTop=0};requestAnimationFrame(a)},N=()=>{m.value&&(y.value=m.value.scrollTop>=a.visibilityHeight)},E=e=>{C(),t("click",e)},_=(0,s.vA)(N,300);return(0,c.ORN)(f,"scroll",_),(0,n.onMounted)((()=>{var e;f.value=document,m.value=document.documentElement,a.target&&(m.value=null!=(e=document.querySelector(a.target))?e:void 0,m.value||(0,h._)(d,`target is not existed: ${a.target}`),f.value=m.value)})),(e,t)=>((0,n.openBlock)(),(0,n.createBlock)(l.uT,{name:`${(0,o.unref)(p).namespace.value}-fade-in`},{default:(0,n.withCtx)((()=>[y.value?((0,n.openBlock)(),(0,n.createElementBlock)("div",{key:0,style:(0,r.j5)((0,o.unref)(b)),class:(0,r.C_)((0,o.unref)(p).b()),onClick:(0,l.iM)(E,["stop"])},[(0,n.renderSlot)(e.$slots,"default",{},(()=>[(0,n.createVNode)((0,o.unref)(i.gn),{class:(0,r.C_)((0,o.unref)(p).e("icon"))},{default:(0,n.withCtx)((()=>[(0,n.createVNode)((0,o.unref)(u.CaretTop))])),_:1},8,["class"])]))],14,k)):(0,n.createCommentVNode)("v-if",!0)])),_:3},8,["name"]))}});var C=(0,m.Z)(b,[["__file","/home/runner/work/element-plus/element-plus/packages/components/backtop/src/backtop.vue"]]),N=a(9015);const E=(0,N.nz)(C)},9406:function(e,t,a){a(1758)},4902:function(e,t,a){a.d(t,{Dv:function(){return h}});var n=a(3396),o=a(7139),l=a(4870),r=a(5994),s=a(3071);const c=(0,r.o8)({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:(0,r.Cq)([Number,Object]),default:()=>(0,s.N)({})},sm:{type:(0,r.Cq)([Number,Object]),default:()=>(0,s.N)({})},md:{type:(0,r.Cq)([Number,Object]),default:()=>(0,s.N)({})},lg:{type:(0,r.Cq)([Number,Object]),default:()=>(0,s.N)({})},xl:{type:(0,r.Cq)([Number,Object]),default:()=>(0,s.N)({})}});var i=a(5989),u=a(7504),d=a(6734),p=a(6413);const m={name:"ElCol"},v=(0,n.defineComponent)({...m,props:c,setup(e){const t=e,{gutter:a}=(0,n.inject)(u.j,{gutter:(0,n.computed)((()=>0))}),r=(0,d.s)("col"),s=(0,n.computed)((()=>{const e={};return a.value&&(e.paddingLeft=e.paddingRight=a.value/2+"px"),e})),c=(0,n.computed)((()=>{const e=[],n=["span","offset","pull","push"];n.forEach((a=>{const n=t[a];(0,p.hj)(n)&&("span"===a?e.push(r.b(`${t[a]}`)):n>0&&e.push(r.b(`${a}-${t[a]}`)))}));const l=["xs","sm","md","lg","xl"];return l.forEach((a=>{(0,p.hj)(t[a])?e.push(r.b(`${a}-${t[a]}`)):(0,o.Kn)(t[a])&&Object.entries(t[a]).forEach((([t,n])=>{e.push("span"!==t?r.b(`${a}-${t}-${n}`):r.b(`${a}-${n}`))}))})),a.value&&e.push(r.is("guttered")),e}));return(e,t)=>((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.tag),{class:(0,o.C_)([(0,l.unref)(r).b(),(0,l.unref)(c)]),style:(0,o.j5)((0,l.unref)(s))},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},8,["class","style"]))}});var f=(0,i.Z)(v,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]),g=a(9015);const h=(0,g.nz)(f)},8839:function(e,t,a){a(1758)},3247:function(e,t,a){a.d(t,{n:function(){return b}});var n=a(3396),o=a(7139),l=a(1976),r=a(6142),s=a(4620),c=a(9304);const i="ElInfiniteScroll",u=50,d=200,p=0,m={delay:{type:Number,default:d},distance:{type:Number,default:p},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},v=(e,t)=>Object.entries(m).reduce(((a,[n,o])=>{var l,r;const{type:s,default:c}=o,i=e.getAttribute(`infinite-scroll-${n}`);let u=null!=(r=null!=(l=t[i])?l:i)?r:c;return u="false"!==u&&u,u=s(u),a[n]=Number.isNaN(u)?c:u,a}),{}),f=e=>{const{observer:t}=e[i];t&&(t.disconnect(),delete e[i].observer)},g=(e,t)=>{const{container:a,containerEl:n,instance:o,observer:l,lastScrollTop:s}=e[i],{disabled:c,distance:u}=v(e,o),{clientHeight:d,scrollHeight:p,scrollTop:m}=n,f=m-s;if(e[i].lastScrollTop=m,l||c||f<0)return;let g=!1;if(a===e)g=p-(d+m)<=u;else{const{clientTop:t,scrollHeight:a}=e,o=(0,r.yP)(e,n);g=m+d>=o+t+a-u}g&&t.call(o)};function h(e,t){const{containerEl:a,instance:n}=e[i],{disabled:o}=v(e,n);o||0===a.clientHeight||(a.scrollHeight<=a.clientHeight?t.call(n):f(e))}const k={async mounted(e,t){const{instance:a,value:r}=t;(0,o.mf)(r)||(0,s._)(i,"'v-infinite-scroll' binding value must be a function"),await(0,n.nextTick)();const{delay:d,immediate:p}=v(e,a),m=(0,c.JX)(e,!0),f=m===window?document.documentElement:m,k=(0,l.Z)(g.bind(null,e,r),d);if(m){if(e[i]={instance:a,container:m,containerEl:f,delay:d,cb:r,onScroll:k,lastScrollTop:f.scrollTop},p){const t=new MutationObserver((0,l.Z)(h.bind(null,e,r),u));e[i].observer=t,t.observe(e,{childList:!0,subtree:!0}),h(e,r)}m.addEventListener("scroll",k)}},unmounted(e){const{container:t,onScroll:a}=e[i];null==t||t.removeEventListener("scroll",a),f(e)},async updated(e){e[i]||await(0,n.nextTick)();const{containerEl:t,cb:a,observer:o}=e[i];t.clientHeight&&o&&h(e,a)}},y=k;y.install=e=>{e.directive("InfiniteScroll",y)};const b=y},6588:function(e,t,a){a(1758)},9776:function(e,t,a){a.d(t,{dq:function(){return h}});var n=a(3396),o=a(7139),l=a(4870),r=a(5994);const s=["start","center","end","space-around","space-between","space-evenly"],c=["top","middle","bottom"],i=(0,r.o8)({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:s,default:"start"},align:{type:String,values:c,default:"top"}});var u=a(5989),d=a(6734),p=a(7504);const m={name:"ElRow"},v=(0,n.defineComponent)({...m,props:i,setup(e){const t=e,a=(0,d.s)("row"),r=(0,n.computed)((()=>t.gutter));(0,n.provide)(p.j,{gutter:r});const s=(0,n.computed)((()=>{const e={};return t.gutter?(e.marginRight=e.marginLeft=`-${t.gutter/2}px`,e):e}));return(e,r)=>((0,n.openBlock)(),(0,n.createBlock)((0,n.resolveDynamicComponent)(e.tag),{class:(0,o.C_)([(0,l.unref)(a).b(),(0,l.unref)(a).is(`justify-${t.justify}`,"start"!==e.justify),(0,l.unref)(a).is(`align-${t.align}`,"top"!==e.align)]),style:(0,o.j5)((0,l.unref)(s))},{default:(0,n.withCtx)((()=>[(0,n.renderSlot)(e.$slots,"default")])),_:3},8,["class","style"]))}});var f=(0,u.Z)(v,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]),g=a(9015);const h=(0,g.nz)(f)},6885:function(e,t,a){a(1758)},7504:function(e,t,a){a.d(t,{j:function(){return n}});const n=Symbol("rowContextKey")}}]);
//# sourceMappingURL=715.99334b09.js.map
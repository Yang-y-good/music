{"version":3,"file":"js/singer.58bb4e16.js","mappings":"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","sources":["webpack://music/./src/data/songer.js","webpack://music/./src/views/findMusic/singer/children/singerHome.vue","webpack://music/./src/views/findMusic/singer/children/singerHome.vue?6cd6","webpack://music/./src/views/findMusic/singer/singer.vue","webpack://music/./src/views/findMusic/singer/singer.vue?9298","webpack://music/../../packages/components/infinite-scroll/src/index.ts","webpack://music/../../packages/components/infinite-scroll/index.ts"],"sourcesContent":["import { ref } from \"vue\";\r\n\r\nexport function getsonger(){\r\n    const total = ref({\r\n        语种: [\r\n          { area: \"-1\", name: \"全部\" },\r\n          { area: \"7\", name: \"华语\" },\r\n          { area: \"96\", name: \"欧美\" },\r\n          { area: \"8\", name: \"日本\" },\r\n          { area: \"16\", name: \"韩国\" },\r\n          { area: \"0\", name: \"其他\" },\r\n        ],\r\n        分类: [\r\n          { type: \"-1\", name: \"全部\" },\r\n          { type: \"1\", name: \"男歌手\" },\r\n          { type: \"2\", name: \"女歌手\" },\r\n          { type: \"3\", name: \"乐队\" },\r\n        ],\r\n        筛选: [\r\n          { initial: \"-1\", name: \"热门\" },\r\n          { initial: \"a\", name: \"A\" },\r\n          { initial: \"b\", name: \"B\" },\r\n          { initial: \"c\", name: \"C\" },\r\n          { initial: \"d\", name: \"D\" },\r\n          { initial: \"e\", name: \"E\" },\r\n          { initial: \"f\", name: \"F\" },\r\n          { initial: \"g\", name: \"G\" },\r\n          { initial: \"h\", name: \"H\" },\r\n          { initial: \"i\", name: \"I\" },\r\n          { initial: \"j\", name: \"J\" },\r\n          { initial: \"k\", name: \"K\" },\r\n          { initial: \"l\", name: \"L\" },\r\n          { initial: \"m\", name: \"M\" },\r\n          { initial: \"n\", name: \"N\" },\r\n          { initial: \"o\", name: \"O\" },\r\n          { initial: \"p\", name: \"P\" },\r\n          { initial: \"q\", name: \"Q\" },\r\n          { initial: \"r\", name: \"R\" },\r\n          { initial: \"s\", name: \"S\" },\r\n          { initial: \"t\", name: \"T\" },\r\n          { initial: \"u\", name: \"U\" },\r\n          { initial: \"v\", name: \"V\" },\r\n          { initial: \"w\", name: \"W\" },\r\n          { initial: \"x\", name: \"X\" },\r\n          { initial: \"y\", name: \"Y\" },\r\n          { initial: \"z\", name: \"Z\" },\r\n          { initial: \"0\", name: \"#\" },\r\n        ],\r\n      });\r\n\r\n      return total\r\n}","import { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, createVNode as _createVNode, Suspense as _Suspense, withCtx as _withCtx, createBlock as _createBlock, vShow as _vShow, withDirectives as _withDirectives, resolveDirective as _resolveDirective, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7295a87c\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = [\"infinite-scroll-disabled\"];\nconst _hoisted_2 = {\n  class: \"singr_name\"\n};\nconst _hoisted_3 = {\n  class: \"singer_check\"\n};\nconst _hoisted_4 = [\"onClick\"];\n\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  style: {\n    \"text-align\": \"center\"\n  }\n}, \"Loading...\", -1));\n\nconst _hoisted_6 = {\n  class: \"load\"\n};\nimport { getsonger } from \"@/data/songer\";\nimport { useStore } from \"vuex\";\nimport { computed, watch } from \"@vue/runtime-core\";\nimport { defineAsyncComponent } from \"vue\";\nimport loading from \"@/components/loading.vue\";\nexport default {\n  __name: 'singerHome',\n  props: {},\n\n  setup(__props, {\n    emit\n  }) {\n    const props = __props;\n\n    const {\n      reactive,\n      ref\n    } = require(\"@vue/reactivity\");\n\n    const asyncComp = defineAsyncComponent(() => import(\"./singerList.vue\"));\n    const store = useStore();\n    const temp = ref({\n      area: -1,\n      type: -1,\n      initial: -1,\n      offset: 0,\n      limit: 30\n    }); // 数据初始化\n\n    store.dispatch(\"recommend/singer/getSingerInfo\", temp.value); // 拿到歌手信息\n\n    const singerList = computed(() => store.state.recommend.singer.singerInfo); // 标签数据\n\n    const total = getsonger(); // 语种\n\n    const params = ref({\n      area: \"-1\",\n      name: \"全部\"\n    }); // 分类\n\n    const params1 = ref({\n      type: \"-1\",\n      name: \"全部\"\n    }); // 筛选\n\n    const params2 = ref({\n      initial: \"-1\",\n      name: \"热门\"\n    }); // 标签点击事件\n\n    const singerCheck = (item, items) => {\n      // 判断点击的对象长度\n      if (Object.keys(item).length === 6) {\n        for (const i in item) {\n          if (item[i].area === items.area) {\n            params.value = items;\n          }\n        }\n      }\n\n      if (Object.keys(item).length === 4) {\n        for (const i in item) {\n          if (item[i].type === items.type) {\n            params1.value = items;\n          }\n        }\n      }\n\n      if (Object.keys(item).length === 28) {\n        for (const i in item) {\n          if (item[i].initial === items.initial) {\n            params2.value = items;\n          }\n        }\n      }\n\n      console.log({\n        area: params.value.area,\n        type: params1.value.type,\n        initial: params2.value.initial\n      });\n      temp.value = {\n        area: params.value.area,\n        type: params1.value.type,\n        initial: params2.value.initial,\n        offset: 0,\n        limit: 30\n      };\n      store.dispatch(\"recommend/singer/getSingerInfo\", temp.value);\n    }; // 是否禁用滚动条\n\n\n    const disabled = ref(false); // 加载数据时显示的动画\n\n    const isloading = ref(false); // 数据全部加载完显示\n\n    const loadingover = ref(false); // 滚动条到底部触发\n\n    const load = () => {\n      console.log(\"加载更多\");\n      isloading.value = true; // 每次加载30条数据\n\n      temp.value.offset += 30; // 拿到新的数据追加到原来的数据里\n\n      store.dispatch(\"recommend/singer/getscrollInfo\", temp.value).then(res => {\n        // 当加载到最底部时\n        if (res.length === 0) {\n          // 禁用无限滚动\n          disabled.value = true; // 显示提示\n\n          loadingover.value = true; // 没了数据时隐藏\n\n          isloading.value = false;\n        } // 循环追加数据\n\n\n        res.forEach(item => {\n          store.state.recommend.singer.singerInfo.push(item);\n        });\n      });\n    };\n\n    return (_ctx, _cache) => {\n      const _directive_infinite_scroll = _resolveDirective(\"infinite-scroll\");\n\n      return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n        class: \"singer_home\",\n        \"infinite-scroll-distance\": 300,\n        \"infinite-scroll-delay\": 1000,\n        \"infinite-scroll-disabled\": _unref(disabled),\n        \"infinite-scroll-immediate\": \"\"\n      }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(total), (item, key) => {\n        return _openBlock(), _createElementBlock(\"div\", {\n          class: \"singr_search\",\n          key: item\n        }, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"span\", null, _toDisplayString(key) + \":\", 1)]), _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item, items => {\n          return _openBlock(), _createElementBlock(\"div\", {\n            key: items,\n            class: \"singer_area\",\n            onClick: $event => singerCheck(item, items)\n          }, [_createElementVNode(\"span\", {\n            class: _normalizeClass([\"area_text\", {\n              areaCheck: items.area == _unref(params).area,\n              areaCheck1: items.type == _unref(params1).type,\n              areaCheck2: items.initial == _unref(params2).initial\n            }])\n          }, _toDisplayString(items.name), 3)], 8, _hoisted_4);\n        }), 128))])]);\n      }), 128)), (_openBlock(), _createBlock(_Suspense, null, {\n        default: _withCtx(() => [_createVNode(_unref(asyncComp), {\n          singerList: _unref(singerList)\n        }, null, 8, [\"singerList\"])]),\n        fallback: _withCtx(() => [_hoisted_5]),\n        _: 1\n      })), _withDirectives(_createVNode(loading, {\n        class: \"loading\"\n      }, null, 512), [[_vShow, _unref(isloading)]]), _withDirectives(_createElementVNode(\"p\", _hoisted_6, \"已经加载到最底部了...\", 512), [[_vShow, _unref(loadingover)]])], 8, _hoisted_1)), [[_directive_infinite_scroll, load]]);\n    };\n  }\n\n};","/* unplugin-vue-components disabled */import script from \"./singerHome.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./singerHome.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./singerHome.vue?vue&type=style&index=0&id=7295a87c&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\网易云\\\\music\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7295a87c\"]])\n\nexport default __exports__","import { createVNode as _createVNode, resolveComponent as _resolveComponent, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nimport singerHome from \"./children/singerHome.vue\";\nimport { useScrollPostion } from \"@/hook/useScrollPostion\";\nimport { ref } from \"@vue/reactivity\";\nexport default {\n  __name: 'singer',\n  props: {},\n\n  setup(__props, {\n    emit\n  }) {\n    const props = __props;\n    const elRef = ref(); // 记录当前页面滚动的位置\n\n    const onscroll = useScrollPostion(elRef);\n    return (_ctx, _cache) => {\n      const _component_el_scrollbar = _resolveComponent(\"el-scrollbar\");\n\n      return _openBlock(), _createBlock(_component_el_scrollbar, {\n        onScroll: _unref(onscroll),\n        class: \"singer\",\n        ref_key: \"elRef\",\n        ref: elRef\n      }, {\n        default: _withCtx(() => [_createVNode(singerHome, {\n          class: \"lessen\"\n        })]),\n        _: 1\n      }, 8, [\"onScroll\"]);\n    };\n  }\n\n};","/* unplugin-vue-components disabled */import script from \"./singer.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./singer.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./singer.vue?vue&type=style&index=0&id=09983770&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\网易云\\\\music\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-09983770\"]])\n\nexport default __exports__","// @ts-nocheck\nimport { nextTick } from 'vue'\nimport { isFunction } from '@vue/shared'\nimport { throttle } from 'lodash-unified'\nimport {\n  getOffsetTopDistance,\n  getScrollContainer,\n  throwError,\n} from '@element-plus/utils'\n\nimport type { ComponentPublicInstance, ObjectDirective } from 'vue'\n\nexport const SCOPE = 'ElInfiniteScroll'\nexport const CHECK_INTERVAL = 50\nexport const DEFAULT_DELAY = 200\nexport const DEFAULT_DISTANCE = 0\n\nconst attributes = {\n  delay: {\n    type: Number,\n    default: DEFAULT_DELAY,\n  },\n  distance: {\n    type: Number,\n    default: DEFAULT_DISTANCE,\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n  immediate: {\n    type: Boolean,\n    default: true,\n  },\n}\n\ntype Attrs = typeof attributes\ntype ScrollOptions = { [K in keyof Attrs]: Attrs[K]['default'] }\ntype InfiniteScrollCallback = () => void\ntype InfiniteScrollEl = HTMLElement & {\n  [SCOPE]: {\n    container: HTMLElement | Window\n    containerEl: HTMLElement\n    instance: ComponentPublicInstance\n    delay: number // export for test\n    lastScrollTop: number\n    cb: InfiniteScrollCallback\n    onScroll: () => void\n    observer?: MutationObserver\n  }\n}\n\nconst getScrollOptions = (\n  el: HTMLElement,\n  instance: ComponentPublicInstance\n): ScrollOptions => {\n  return Object.entries(attributes).reduce((acm, [name, option]) => {\n    const { type, default: defaultValue } = option\n    const attrVal = el.getAttribute(`infinite-scroll-${name}`)\n    let value = instance[attrVal] ?? attrVal ?? defaultValue\n    value = value === 'false' ? false : value\n    value = type(value)\n    acm[name] = Number.isNaN(value) ? defaultValue : value\n    return acm\n  }, {} as ScrollOptions)\n}\n\nconst destroyObserver = (el: InfiniteScrollEl) => {\n  const { observer } = el[SCOPE]\n\n  if (observer) {\n    observer.disconnect()\n    delete el[SCOPE].observer\n  }\n}\n\nconst handleScroll = (el: InfiniteScrollEl, cb: InfiniteScrollCallback) => {\n  const { container, containerEl, instance, observer, lastScrollTop } =\n    el[SCOPE]\n  const { disabled, distance } = getScrollOptions(el, instance)\n  const { clientHeight, scrollHeight, scrollTop } = containerEl\n  const delta = scrollTop - lastScrollTop\n\n  el[SCOPE].lastScrollTop = scrollTop\n\n  // trigger only if full check has done and not disabled and scroll down\n  if (observer || disabled || delta < 0) return\n\n  let shouldTrigger = false\n\n  if (container === el) {\n    shouldTrigger = scrollHeight - (clientHeight + scrollTop) <= distance\n  } else {\n    // get the scrollHeight since el might be visible overflow\n    const { clientTop, scrollHeight: height } = el\n    const offsetTop = getOffsetTopDistance(el, containerEl)\n    shouldTrigger =\n      scrollTop + clientHeight >= offsetTop + clientTop + height - distance\n  }\n\n  if (shouldTrigger) {\n    cb.call(instance)\n  }\n}\n\nfunction checkFull(el: InfiniteScrollEl, cb: InfiniteScrollCallback) {\n  const { containerEl, instance } = el[SCOPE]\n  const { disabled } = getScrollOptions(el, instance)\n\n  if (disabled || containerEl.clientHeight === 0) return\n\n  if (containerEl.scrollHeight <= containerEl.clientHeight) {\n    cb.call(instance)\n  } else {\n    destroyObserver(el)\n  }\n}\n\nconst InfiniteScroll: ObjectDirective<\n  InfiniteScrollEl,\n  InfiniteScrollCallback\n> = {\n  async mounted(el, binding) {\n    const { instance, value: cb } = binding\n\n    if (!isFunction(cb)) {\n      throwError(SCOPE, \"'v-infinite-scroll' binding value must be a function\")\n    }\n\n    // ensure parentNode mounted\n    await nextTick()\n\n    const { delay, immediate } = getScrollOptions(el, instance)\n    const container = getScrollContainer(el, true)\n    const containerEl =\n      container === window\n        ? document.documentElement\n        : (container as HTMLElement)\n    const onScroll = throttle(handleScroll.bind(null, el, cb), delay)\n\n    if (!container) return\n\n    el[SCOPE] = {\n      instance,\n      container,\n      containerEl,\n      delay,\n      cb,\n      onScroll,\n      lastScrollTop: containerEl.scrollTop,\n    }\n\n    if (immediate) {\n      const observer = new MutationObserver(\n        throttle(checkFull.bind(null, el, cb), CHECK_INTERVAL)\n      )\n      el[SCOPE].observer = observer\n      observer.observe(el, { childList: true, subtree: true })\n      checkFull(el, cb)\n    }\n\n    container.addEventListener('scroll', onScroll)\n  },\n  unmounted(el) {\n    const { container, onScroll } = el[SCOPE]\n\n    container?.removeEventListener('scroll', onScroll)\n    destroyObserver(el)\n  },\n  async updated(el) {\n    if (!el[SCOPE]) {\n      await nextTick()\n    }\n    const { containerEl, cb, observer } = el[SCOPE]\n    if (containerEl.clientHeight && observer) {\n      checkFull(el, cb)\n    }\n  },\n}\n\nexport default InfiniteScroll\n","import InfiniteScroll from './src'\n\nimport type { App } from 'vue'\nimport type { SFCWithInstall } from '@element-plus/utils'\n\nconst _InfiniteScroll = InfiniteScroll as SFCWithInstall<typeof InfiniteScroll>\n\n_InfiniteScroll.install = (app: App) => {\n  app.directive('InfiniteScroll', _InfiniteScroll)\n}\n\nexport default _InfiniteScroll\nexport const ElInfiniteScroll = _InfiniteScroll\n"],"names":["getsonger","total","ref","语种","area","name","分类","type","筛选","initial","_withScopeId","n","_hoisted_1","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","style","_hoisted_6","__name","props","setup","__props","emit","reactive","asyncComp","defineAsyncComponent","store","useStore","temp","offset","limit","dispatch","value","singerList","computed","state","recommend","singer","singerInfo","params","params1","params2","singerCheck","item","items","Object","keys","length","i","console","log","disabled","isloading","loadingover","load","then","res","forEach","push","_ctx","_cache","_directive_infinite_scroll","key","onClick","$event","areaCheck","areaCheck1","areaCheck2","default","fallback","_","loading","__exports__","elRef","onscroll","useScrollPostion","_component_el_scrollbar","onScroll","ref_key","singerHome","SCOPE","CHECK_INTERVAL","DEFAULT_DELAY","DEFAULT_DISTANCE","attributes","delay","Number","distance","Boolean","immediate","getScrollOptions","el","instance","entries","reduce","acm","option","_a","_b","defaultValue","attrVal","getAttribute","isNaN","destroyObserver","observer","disconnect","handleScroll","cb","container","containerEl","lastScrollTop","clientHeight","scrollHeight","scrollTop","delta","shouldTrigger","clientTop","height","offsetTop","getOffsetTopDistance","call","checkFull","InfiniteScroll","binding","isFunction","throwError","nextTick","getScrollContainer","window","document","documentElement","throttle","bind","MutationObserver","observe","childList","subtree","addEventListener","unmounted","removeEventListener","_InfiniteScroll","install","app","directive","ElInfiniteScroll"],"sourceRoot":""}